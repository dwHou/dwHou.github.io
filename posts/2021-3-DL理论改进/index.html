<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Traditional Methods</title>

        <link rel="stylesheet" href="../../fonts/Serif/cmun-serif.css" />
        <link rel="stylesheet" href="../../fonts/Serif-Slanted/cmun-serif-slanted.css" />

        <!--BOOTSTRAP-->
        <link href="../../bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <!--mobile first-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!--removed html from url but still is html-->
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

        <!--font awesome-->
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css">
        <!--fonts: allan & cardo-->
        <link href="http://fonts.googleapis.com/css?family=Droid+Serif" rel="stylesheet" type="text/css">
        <link href="http://fonts.googleapis.com/css?family=Droid+Sans" rel="stylesheet" type="text/css">

        <link href="../../css/sticky-footer-navbar.css" rel="stylesheet">

        <link href="../../css/default.css" rel="stylesheet">

        <link href="../../comments/inlineDisqussions.css" rel="stylesheet">

        <!--Highlight-->
        <link href="../../highlight/styles/github.css" rel="stylesheet">

        <link href="../../favicon.ico" rel="shortcut icon" />

        <!--<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>-->
        <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <style>
        .post{width:170px;min-height:175px;padding-left:5px;padding-right:5px;float:left;border-left:1px solid #CCC;background-color:white;}
        div a:first-of-type .post { border-left: none; }
        .post:hover {filter: brightness(90%);}
        .post h3{margin:5px;font-size:75%;text-align:center}
        .post h4{margin:0px;font-size:50%;text-align:center}
        .post img{margin:0px;padding:2px;margin-bottom:10px;width:100%;height:155px}
        </style>

        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-49811703-1', 'dwHou.github.io');
          ga('require', 'linkid', 'linkid.js');
          ga('require', 'displayfeatures');
          ga('send', 'pageview');

        </script>

    </head>

    <body>
        <div id="wrap">
            <nav class="navbar navbar-inverse navbar-static-top" role="navigation">
                <div class="container">
                    <!--Toggle header for mobile-->
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand active" href="../../" style="font-size:20px;">De's blog</a>
                    </div>
                    <!--normal header-->
                    <div class="navbar-collapse collapse">
                        <ul class="nav navbar-nav navbar-right">
                            <li><a href="../../"><span class="glyphicon glyphicon-pencil"></span>  Blog</a></li>
                            <li><a href="../../about.html"><span class="glyphicon glyphicon-user"></span>  About</a></li>
                            <li><a href="../../contact.html"><span class="glyphicon glyphicon-envelope"></span>  Contact</a></li>
                            <li><a href="../../demo.html"><span class="glyphicon glyphicon-play"></span>  ALGO</a></li>
                        </ul>
                    </div><!--/.nav-collapse -->
                </div>
            </nav>


            <div id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-md-8">
                            <h1></h1>
                            <div style="font-size: 170%;">理论前瞻</div>
                            <br>
                            <div class="info">
    <p style="font-family:CMSS; font-size:120%">Posted on Jun.3, 2021</p>

    <!--
        by dwHou
    -->
</div>
</br>

<style>
    ul li {
      margin-top: 12px;
    }

    .tight-list li {
      margin-top: 6px;
    }
  </style>

  在<a href="../2021-3-非深度学习方法">传统方法</a>的前言中，我们提到：
  在性能方面上，DL方法好于非DL方法，在速度上，DL方法有GPU加成可能快于非DL方法。
  我印象中，很多传统方法一直有种想把方法写成GPU版本的倾向。在工业界大数据的加持下，DL方法的鲁棒性也能更好提升。
  传统方法虽具有可解释性，但相对而言吃力不讨好，DL方法则全方面碾压。所以如何利用好DL，是更值得探究的方向。
  然而，距离落地，DL还不是那么完美的，除了工程技巧，一些前沿理论可以助我们打造更好的模型。


  <h2>剪枝</h2>
  <ul>
  <li><b>背景：</b></li>
  <pre></pre>

  </ul>

   
  <h2>嫁接</h2>
  <ul>
  <li><b>出发点</b>  <a href="https://openaccess.thecvf.com/content_CVPR_2020/papers/Meng_Filter_Grafting_for_Deep_Neural_Networks_CVPR_2020_paper.pdf"><i class="fa fa-file-pdf-o"></i></a>
  </li>
  <pre>一些失活的卷积限制了网络的潜能。从这个现象出发，<strong><ruby>剪枝<rt>Pruning</rt></ruby></strong>移除了这些失活的卷积，来提升效率。
而<strong><ruby>嫁接<rt>Grafting</rt></ruby></strong>则重新激活它们，来提升性能。</pre>

  <li>tips</li>
  <pre>relu会造成很多梯度始终为0的核，leaky_relu则不会。但leaky_relu同样没法避免出现一些失活的卷积。嫁接这时就能起效果。</pre>
  </ul>

  <h2>权重平均</h2>
  <ul>
  <li><b>思想溯源: </b> 从网络插值，到EMA和SWA<a href="https://arxiv.org/pdf/1803.05407.pdf"><i class="fa fa-file-pdf-o"></i></a></li>
  <pre>
  • 2018年、2019年，ESRGAN的团队同时提出网络插值，用于结合不同优化目标下的模型权重。
  • 2019年、2020年，网络插值被运用在重要赛事中，用于结合不同ckp的权重，旨在提升模型泛化性能。
  • 2017年，吴恩达就在<a href="https://mooc.study.163.com/course/2001281003?tid=2001391036&_trace_c_p_k2_=defef755139242b883937f7e9c67fcaf#/info">课上</a>讲EMA（指数移动平均）对模型的参数做平均，以求提高测试指标并增加模型鲁棒。
  • 2018年，有理论支撑，权值平滑能让测试误差落在更优平面。该思想更是能在训练中使用，成为SWA技术。
  • 2019年，PyTorch开始在torchcontrib库支持swa。该技术也在Kaggle赛事中一展头角。</pre>

  <pre><b>区别</b>：SWA是取不同<font color="red">epoch</font>的模型，跨度更大。EMA是滑动取连续的<font color="red">iteration</font>的模型参数。</pre>
  <pre>EMA t时刻变量v的滑动平均值大致等于过去1 / ( 1 − β )个时刻v值的平均。即，
如果β = 0.99，则大致等于过去100个v值的平均。ema占内存少，不需要保存过去100个历史v值，就能够估计其均值。</pre>
  <pre>
对神经网络边的权重 weights 使用滑动平均，得到对应的影子变量shadow_weights。在训练过程仍然使用原来不带滑动平均的权重 weights，
以得到 weights 下一步更新的值，进而求下一步 weights 的影子变量 shadow_weights。之后在测试过程中使用shadow_weights 来代替
weights 作为神经网络边的权重，这样在测试数据上效果更好。</pre>
  <pre><font color="red">注：</font>使用EMA可能对BN层有帮助。减少BN层对batchsize的敏感。<a href="https://www.zhihu.com/question/269576836"><i class="fa fa-external-link"></i></a>
有好的预训练模型，可以将use_num_updates关掉，或者至少将其初始数值设大。不然会出现性能一开始骤降的情形。</pre>
  </ul>



  <h2>蒸馏学习、互学习</h2>
  <ul>
  <li></li>
  <li></li>

  </ul>

  <h2>各种归一化</h2>
  <ul>
      <li>GroupNorm</li>
      记住GN，就记得它的两个特例LN和IN了。
      <pre>
        将channel方向分group，然后每个group内做归一化，算(C//G)HW的均值；这样与batchsize无关，不受其约束。
        事实上，GN的极端情况就是LN和IN，分别对应G等于C和G等于1，作者在论文中给出G设为32较好.
      </pre>
      <pre>
        当Conv bias遇上Norm:
        对于Norm之前的卷积是否使用偏置，也是有讲究的。
        MMDetection仓库就有友情提醒，当用户在使用Batch Norm或者Instance Norm时，MMCV的提示是非常贴心的。
        使用Layer Norm或者Group Norm（num_groups≠C）时，MMCV则不必抛出这个<a href="https://zhuanlan.zhihu.com/p/403444336">warning</a>。
      </pre>
      
  </ul>


  <h2>各种激活函数</h2>
  <ul>
     <li>Swish(nn.SiLU)</li>
     <pre>
        没有充分的证据表明 某种激活函数 总是比 另一种激活函数 好。
        不过Swish的论文包含了一个有趣的讨论，关于什么激活函数是好的。
        作者指出，Swish工作得如此出色的原因是它的上无界，下有界，非单调，平滑。你可能已经注意到GELU也具有所有这些性质，我们稍后将讨论的最后一次激活函数也是这样。看来这就是激活研究的发展方向。
        <a href="https://zhuanlan.zhihu.com/p/409247652">激活函数的选择</a>
        <a href="https://zhuanlan.zhihu.com/p/352668984">介绍</a>
        <a href="https://krutikabapat.github.io/Swish-Vs-Mish-Latest-Activation-Functions/">Swish vs. Mish</a>
     </pre>
     
  </ul>

  <h2>各种优化器</h2>
  <ul>
    <a href="https://www.fast.ai/2018/07/02/adam-weight-decay/">AdamW</a>的 weight decay是需要调的。
  </ul>


  




  



<!-- 加载出评论，是使用Disqus的论坛短名（shortname）
A shortname is the unique identifier assigned to a Disqus site. 

https://segmentfault.com/a/1190000005773009
https://help.disqus.com/en/articles/1717111-what-s-a-shortname
https://blog.csdn.net/weixin_34327761/article/details/89630337
   -->

<div id="disqus_thread"></div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>

<script src="../../comments/inlineDisqussions.js"></script>
<script src="../../js/disqus.js"></script>

                        </div>
                        <div class="col-md-4"></div>
                    </div>
                </div>
            </div>


            <div id="footer">
                <div class="container">
                    Built by <a href="https://github.com/oinkina">Oinkina</a> with
                    <a href="http://jaspervdj.be/hakyll">Hakyll</a>
                    using <a href="http://getbootstrap.com/">Bootstrap</a>,
                    <a href="http://www.mathjax.org/">MathJax</a>,
                    <a href="http://disqus.com/">Disqus</a>,
                    <a href="https://github.com/unconed/MathBox.js">MathBox.js</a>,
                    <a href="http://highlightjs.org/">Highlight.js</a>,
                    and <a href="http://ignorethecode.net/blog/2010/04/20/footnotes/">Footnotes.js</a>.
                </div>
            </div>
        </div>

    <!-- jQuery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>

    <script src="../../bootstrap/js/bootstrap.min.js"></script>

    <script src="../../highlight/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <script src="../../js/footnotes.js"></script>

    <script src="../../comments/inlineDisqussions.js"></script>

    <noscript>Enable JavaScript for footnotes, Disqus comments, and other cool stuff.</noscript>

    </body>

</html>
