https://www.3blue1brown.com/

#### 第一章 微积分的本质

目标：微积分里的概念和公式很多。而本视频的目的是，让观众看完之后感觉自己也能发明微积分。

> [!TIP]
>
> “数学的艺术在于找到那个**特殊情形**，它蕴含了一切通向普遍性的萌芽。”
>  —— 大卫·希尔伯特

###### 面积问题

圆的面积 $Area = \pi R^2$

###### 解开圆环

![img](https://www.3blue1brown.com/content/lessons/2017/essence-of-calculus/figure-2.39.svg)

本着使用标准微积分符号的精神，我们将其中一个环的厚度称为$dr$

一个圆环拉直，近似于矩形面积 $Area = 2\pi rdr$ .  

> 从圆周中古人最早发现$\pi$的定义。

> [!NOTE]
>
> 由于圆环的外圆周长会略大于内圆周长，所以拉直后近似于矩形是不准确的。更类似梯形。但当$dr$越小时，错误也会越来越小。
>
> 你可能会疑问，虽然知道$dr$足够小时，误差可以忽略。但所有圆环面积的误差累积起来会不会显著呢？如果想更精确，也可以证明每个圆环面积的误差受限（bounded）于常数倍的$(dr)^2$，圆环的总数为$\frac{R}{dr}$，所以误差累积受限于常数倍的$\frac{R}{dr}(dr)^2 = Rdr$ 也是趋近于0的。

###### 图形思维

![img](https://www.3blue1brown.com/content/lessons/2017/essence-of-calculus/figure-4.14-4.57.svg)



作为一名大胆的数学家，你可能会预感到，将这个过程推向极致，实际上可能会让事情变得更容易，而不是更难。

将这些圆环拉直得到的矩形竖直地并排放在一个水平轴上，会发现组成了一个三角形，面积是 $Area = \frac{1}{2} R (2 \pi R) = \pi R^2$

这是圆面积的公式。无论你是谁，无论你对数学有什么看法，它都美极了。



###### 方法推广

作为一名数学家，你不仅关心寻找答案，还关心开发通用的解决问题的工具和技巧。所以，花点时间思考一下刚才发生了什么，以及为什么它有效，因为我们从近似值到精确值的过渡其实非常微妙，并且深刻地触及了微积分的本质：

> 将一个问题如此细分来进行近似的目的，并不是因为我们不在乎精确性，而是因为通过许多更小部分的近似，我们可以更灵活地将原本困难的问题重新表述为一个更简单的问题。

###### 积分

在数学和科学中，很多其他难题也可以被拆解，并通过许多小量的总和来进行近似。例如，如果你想根据汽车在每个时刻的速度来计算它行驶了多远，你可以遍历许多个时刻，并将每个时刻 $t$ 的速度与一个非常小的时间变化量 $dt$ 相乘，从而得到在这一小段时间内对应的一小段路程。

我会在这个系列后续内容中详细讲解像这样的一些例子，但从宏观上来看，这类问题中的许多最终都等价于求某个图形下的面积，就像我们之前处理圆的问题一样。

当你要相加的那些量——也就是用来近似原始问题的那些小量——可以被看作是一系列并排放置的细长矩形的面积时，这种情况就会出现。如果对原始问题的近似越来越精细，所对应的矩形也越来越窄，那么这个原始问题就等价于<font color="brown">求某个图形下的面积</font>。

在我们处理圆的问题中很幸运，相关的面积恰好是一个三角形。但现在想象另一个例子，比如抛物线，也就是函数 $x^2$ 的图像。那么，从 $x = 0$ 到 $x = 3$ 之间，这条曲线下方的面积是多少呢？这就难以直观思考了，对吧？

![img](https://3b1b-posts.us-east-1.linodeobjects.com/content/lessons/2017/essence-of-calculus/figure-10.17.png)

让我换一种方式来提这个问题：把左端点固定在 $0$，让右端点 $x$ 变化——你能找到一个函数 $A(x)$，它能表示从 $0$ 到 $x$ 之间这段抛物线（即函数 $x^2$）下方的面积吗？

> [!TIP]
>
> 在微积分中，你可能会称这个函数 $A(x)$ 为 $x^2$ 的一个“积分”。更准确地说，这是函数 $x^2$ 从 $0$ 积分到 $x$ 的结果。
>
> 为了避免歧义——也就是避免不清楚 $x$ 是函数变量还是积分的右端点——我们通常会将该面积描述为函数 $f(t) = t^2$在区间 $[0, x]$ 上的积分。按照数学表达的习惯，这种说法写作：
>
> ​                                                         $A(x) = \int_0^x t^2 \, dt$



但在这里，我们有些走得太快了。现在最重要的是，你，作为一名数学探索者，开始对这个神秘的函数 $A(x)$ 感到好奇——它表示从某个固定的左端点到某个可变的右端点之间，函数$x^2$ 的图像下方的面积。

如果你能找到一种明确的方法来计算这个函数，那么你实际上就在发明微积分的重要一部分了。

> 其实积分很难，人类没法在没有先验的知识的情况下完全掌握的，没法穷尽所有函数的积分。只是找到了一些积分法则。

再次强调，我们关心这类问题，并不仅仅是出于对复杂几何问题的兴趣；而是因为许多现实中的实际问题，都可以通过把大量小量相加来近似求解，而这些问题往往可以转化为关于某条曲线下方面积的问题。

###### 导数

要找出由这个积分函数所表示的面积，其实是一个<font color="brown">真正困难的问题</font>。而在数学中，每当你遇到这种真正棘手的问题时，一个很好的策略就是——不要一开始就一股脑地直接冲向答案，因为那往往只会让你感觉像是在把脑袋撞向墙。

与其直接猛冲向答案，不如先在这个想法上玩一玩。逐步建立起对图像所对应的函数（在这个例子中是 $x^2$）与表示面积的函数（也就是我们还不知道的 $A(x)$）之间关系的直觉理解，看看是否还能从这个结构中提出其他有趣的问题。

在这种探索的心态下，如果你足够幸运，可能会注意到这样一件事：当你把 $x$ 稍微增加一点点，也就是给它一个微小的变化 $dx$ 时，对应的面积也会随之发生细微的变化。这个新增的、非常薄的一小片面积，我们可以叫作 $dA$，表示“面积的微小变化”。

![img](https://3b1b-posts.us-east-1.linodeobjects.com/content/lessons/2017/essence-of-calculus/figure-12.08.png)

也就是说：

​                                                    $dA \approx f(x) \cdot dx = x^2 \cdot dx$

这个观察是非常重要的，因为它揭示了<font color="brown">函数 $A(x)$ 的增长速率（即导数）与原函数 $f(x) = x^2$ 之间的关系。这正是微积分的核心思想之一。</font>

这里，$x$ 是你开始时的输入值，而 $dx$ 是那个引起函数 $A$ 发生变化的微小推动。

我们也可以稍微重新整理一下这个关系式：

​                                                            <font color="brown">     $\frac{dA}{dx} \approx x^2$ </font>

也就是说，函数 $A(x)$ 关于 $x$ 的变化率，大约等于 $x^2$。

这并不能立刻告诉我们如何求出 $A(x)$，但它提供了一个非常有力的线索。而且，这里所用的图像 $x^2$ 并没有什么特别之处。对于任意一个函数 $f(x)$，如果我们把它图像下的面积记作 $A(x)$，那么这个面积函数具有如下性质：

​                                                            $\frac{dA}{dx} \approx f(x)$

也就是说，函数 $A$ 输出值的一个微小变化除以引起它变化的输入的微小推动，差不多等于图像在该点的高度 $f(x)$。这个近似关系在 $dx$ 越小的情况下就越精确。



这里我们无意中触及了微积分中的另一个重要概念：<font color="brown">**导数**</font>。这个比值$\frac{dA}{dx}$

被称为 $A$ 的“导数”。更严格地说，导数是当 $dx$ 趋近于无穷小（越来越小）时，这个比值所趋近的极限值。

你和我将在下一章更深入地探讨导数的概念，但粗略地说，**导数**衡量的是一个函数对其输入发生微小变化时有多敏感

###### 基本定理

我们之所以关心导数，是因为它们能帮助我们解决实际问题。在我们刚才的探索中，其实已经隐约看到了导数的一个用途：它们是解决积分问题的关键，也就是那些要求你计算曲线下方面积的问题。

当你对导数的计算变得足够熟练时，你就能处理类似下面这样的情形：你可能不知道某个函数的具体表达式，但你知道它的导数应该是 $x^2$，然后你就可以“反推”出这个函数本身到底是什么。

这种积分与导数之间的来回关系——也就是“<font color="brown">面积函数的导数等于原来的函数</font>”这种现象——被称为**微积分的基本定理**。它将微积分中两个核心概念——**积分**和**导数**——联系在了一起，并揭示了一个重要思想：从某种意义上说，<font color="brown">积分和导数是彼此的“逆操作”</font>。

> 以上内容只是一个宏观的概览。接下来这个系列将详细讲解这两个重要的思想，以及更多相关内容。我想再强调一点，在整个系列的任何时候，我都希望你能有一种感觉——你仿佛自己就是微积分的发明者，只要画出合适的图形，用正确的方式去探索每一个想法，所有的公式、定理和结构都会自然而然地显现出来。

###### 附加部分：那么，$dx$ 究竟是什么？

微积分中充满了像 $dA$、$dr$、$dx$ 这样的表达式，这些符号既出现在导数的记号中，也出现在积分的记号中。尽管它们看似非常重要，但关于这些符号到底是什么意思，却存在着令人惊讶的模糊和矛盾的解释。

在本章中，我鼓励你把 $dr$ 理解为我们圆的半径从一个值到下一个值的差异，采取一种非常直观的理解方式，把它想象成一个具体的数字，比如 $dr = 0.01$。同样，我也鼓励你把 $dA$ 看作一个具体的数值，特别是指当我们把右端点稍微移动 $dx$ 时，图形下方面积的变化量，同样是一个真实的数字。

更常见的惯例是用大写希腊字母 $\Delta r$、$\Delta A$、$\Delta x$ 来表示这些变化，专门把小写的 $dx$ 记号保留给“无限小”的变化。

问题在于，“无限小”（*infinitely small*）或“无穷小”（*infinitesimal*）这样的说法，本身就有可能——说得直接一点——根本说不通。

什么是“无限小的变化”？它是一个数吗？
 如果是，那到底是哪一个数？它不应该是 0，但也不应该大于 0。
 那如果它不是一个数，它到底又是什么？

为了应对这种困境，人们常见的一种态度是：**不要太过较真这些记号的字面含义**。

一个典型的说法是：尽管导数常常写成 $\frac{df}{dx}$，但它其实**并不是一个真正的分数**；同样地，积分写作 $\int f(x)\,dx$，也**不是真正意义上的求和**，尽管符号 $\int$ 本身就是由英文单词 “Sum” 的首字母 “S” 演变而来。

相反，学生通常会被告知：这些构造在数学上有着各自**更复杂、更严谨的定义**，而这些定义将在更高级的课程（如实分析）中学习。

但是！如果你只是想要一个**初步的直觉理解**，在真正深入严谨定义之前，**把 $dx$ 看作变量 $x$ 的一个“无限小的变化”**，哪怕这个说法在逻辑上并不完全严谨，往往也是有帮助的。毕竟，这只是为了<font color="brown">建立直觉</font>。

就我个人而言，这种“善意劝导”的说法虽然初衷良好，但最终却是**具有误导性的**。微积分的严格基础从头到尾只涉及**实数**，也就是**有限大小的数值**，并且常常关注的是：当这些数值趋近于 0 时，会发生什么。

本系列所提出的观点是：**我们在理解微积分的记号时，完全可以用一种方式来解释这些符号，使其与微积分的严谨基础密切对应**。如果你跟我一样，那你可能会发现，相比那些基于“无限小”概念的模糊直觉，这种解释方式会让微积分变得更加**具体、可感、易懂**。

简而言之，本系列的核心理念是：

当你看到带有 $dx$ 这类符号的表达式时，把它们**看作是实际存在的小数值**，比如说 $dx = 0.001$。
 当你这样做时，你写出的等式**在数学上其实是不准确的**，但只要你选择的 $dx$ 越来越小，这些等式的误差也会变得越来越小。

关于如何将像 dfdfdf、dxdxdx 这样的符号替换为实际的小数值，还有更多细节和经验法则，我们会在后续的系列中逐步讲到，但最核心的理念就是刚才说的那一点。

我现在提前提到这些，是想让你明白：**这种理解方式并不是普遍采用的主流习惯**；再次强调，有限的变化量更常见的写法是使用希腊字母 $\Delta$，比如 $\Delta x = 0.001$。

同时我也想向你保证：**这种符号理念的核心精神**，并不是为了用直觉来替代严谨，**而是恰恰相反——让我们用更贴近严谨的方式去培养更清晰的直觉**。

好了，哲学性的话就讲到这里。
 现在我们正式进入正题：**到底什么是导数？**

#### 第二章 导数的悖论

>  [!TIP]
>
> “只要数学理论关乎现实，它们就不确定；而只要它们确定，它们就与现实无关。”
>  —— 阿尔伯特·爱因斯坦

我们的目标很简单：**解释什么是导数**。

但问题在于，这个主题其实**隐藏着一些微妙之处**，如果你不够小心，就有可能陷入各种**悖论**。
 因此，第二个目标是让你了解：这些悖论到底是什么，以及我们该如何避免它们。

人们常说导数表示“瞬时变化率”，但如果你仔细想一想，这其实是一个**自相矛盾的说法**。

“变化”本质上是**在两个不同的时刻之间**发生的事情；而当你把目光局限在某**一个瞬间**时，**变化就无从谈起了**。

###### 汽车移动

<img src="https://www.3blue1brown.com/content/lessons/2017/derivatives/figure-1.08-1.21.svg" alt="img" style="zoom:38%;" />

<img src="https://www.3blue1brown.com/content/lessons/2017/derivatives/figure-2.43.svg" alt="img" style="zoom:50%;" />

###### 位置与速度

这两条曲线——位置随时间的变化和速度随时间的变化——是**高度相关的**；

但有趣的是，**“某一时刻的速度”这个说法本身其实是没什么意义的**。

至少在我们把速度理解为“位移除以时间变化”的前提下，如果你只看某一个**孤立的瞬间**，
 那就根本**没有“变化”可以衡量**——既没有距离的变化，也没有时间的变化。

就像我给你看一张汽车的照片，一瞬间的快照，然后问你：
 “它当时的速度是多少？”
 你是**根本没办法回答的**。

> [!NOTE]
>
> 如果你觉得这听起来有点奇怪，甚至有点自相矛盾——很好！这说明你正**切身感受到微积分发明者们所面对的同样困惑**。
>
> 而如果你想真正深入理解“变化率”这一概念，不仅仅是为了描述一辆汽车的运动，
>  而是为了掌握科学中各种现象的动态变化，那你就必须学会**如何化解这个看似悖论的问题**。

###### 变化率

###### 悖论

即使我们的汽车速度计在计算速度时会考虑一个**实际的时间变化**（比如 0.01 秒），
 即使我这里写的程序在给定位置函数后求速度函数时也用到了一个**具体的时间差值 $dt$**，

但在**纯粹的数学定义中**，导数并不是某个特定 $dt$ 下的比值 $\frac{ds}{dt}$。
 它指的是：<font color="brown">**当 $dt$ 趋近于 0 时，这个比值所趋近的那个值**</font>。

换句话说，导数是一个**<font color="brown">极限</font>**，表示在“无穷接近某一瞬间”的情况下，变化率会是多少。

###### 切线

幸运的是，对于“这个比值趋近于什么”这个问题，有一个非常直观的图像化理解：

对于任意一个具体的 $dt$ 值，这个比值 $\frac{ds}{dt}$ 表示的是**一条穿过图上两个点的直线的斜率**，这条线被称为**割线（secant line）**。当 $dt$ 趋近于 0，那两个点彼此靠近时，割线的斜率就会趋近于图像在我们所关注的某个点 $t$ 处的**切线（tangent line）**的斜率。
 所以，真正、确切的导数，并不是图像上两个相邻点之间的“高除以宽”（rise-over-run）斜率；它等于的是图像在某一个点处的切线的斜率。

![img](https://www.3blue1brown.com/content/lessons/2017/derivatives/figure-9.44.svg)

遵循微积分中的一个普遍主题，这个思想是一个**两步走的过程**：

-  首先，你考虑一个有限但很小的变化，比如一个实际的数字 0.0001，
-  然后你再问，当这个数字逐渐趋近于 0 时，你的答案会趋向于什么。

是不是很妙？它在“瞬间变化的悖论”边缘试探，却从未真正触及那个悖论本身。

更妙的是，这个看似抽象的“各种变化率的极限”概念，最终竟然有着如此简洁明了的几何意义——切线斜率。

###### 符号说明

 在本文中，我一直用 “$dt$” 表示 $t$ 的一个具有实际大小的微小变化，用 “$ds$” 表示由此引起的 $s$ 的微小变化，这个变化同样有实际大小。

但微积分中的惯例是：每当你使用<font color="brown">字母 “$d$” </font>时，表示的意图是最终要考察当 $dt$ 趋近于 0 时会发生什么。

例如，函数 $s(t)$的真正导数写作 $\frac{ds}{dt}$，
虽然这个导数本身并不是一个真正的分数；
它表示的是当 $t$ 发生越来越小的变化时，该分数值所趋近的那个极限。

###### 例子

一个具体的例子可以帮助理解。你可能会觉得，当我们讨论这个比值（$\frac{ds}{dt}$）在 $dt$ 趋近于越来越小的值时会更难计算，但反直觉的是，这反而可能<font color="brown">使计算更简单</font>。

> 接下来要做的事情看起来可能有些复杂，但等过程理清之后其实会变得更简单，而且这类操作在微积分中通常只需做一次.

假设给定的距离随时间变化的函数恰好是<font color="blue"> $t^3$</font>。

假设你想求某个特定时间点的速度，也就是 $\frac{ds}{dt}$s，比如在$t = 2$时刻。

现在暂时把 $dt$ 看作一个有实际大小的数值；稍后我们会让它趋近于 0。

<img src="https://www.3blue1brown.com/content/lessons/2017/derivatives/figure-12.09.svg" alt="img" style="zoom:50%;" />



速度的表达式是：

$\frac{ds}{dt}(2) = \frac{s(2 + dt) - s(2)}{dt}$

因为 $s(t) = t^3$，所以代入函数定义，分子变成：$(2 + dt)^3 - 2^3$

因此速度表达式写为：


$\frac{ds}{dt}(2) = \frac{(2 + dt)^3 - 2^3}{dt} = \frac{2^3 + 3 \cdot 2^2 \cdot dt + 3 \cdot 2 \cdot (dt)^2 + (dt)^3 - 2^3}{dt} = 3 \cdot 2^2 + 3 \cdot 2 \cdot dt + (dt)^2$

所以如果我们问：当$dt$ 趋近于 0 时会发生什么，也就是我们在观察越来越小的时间变化时会发生什么，那我们就可以<font color="brown">忽略</font>那些<font color="brown">高阶项</font>了！通过不再考虑具体的
 $dt$ 数值，我们实际上<font color="brown">消除了这个表达式中大部分的复杂性</font>！

所以我们最终得到一个漂亮简洁的表达式：$ 3\cdot 2^2$

> [!TIP]
>
> 我之所以向你展示所有这些代数细节，是为了说明一点：当你考虑某个具体的 $dt$ 值（比如 $dt = 0.01$）时，距离变化除以时间变化这个比值会显得有点混乱。
>
> <img src="https://www.3blue1brown.com/content/lessons/2017/derivatives/figure-14.13-messy.svg" alt="img" style="zoom:50%;" />
>
> 但当你考虑这个比值在 $dt \to 0$ 时趋近于什么时，就可以忽略大部分混乱的部分，问题实际上变得更简单了。
>
> <img src="https://www.3blue1brown.com/content/lessons/2017/derivatives/figure-14.13-simple.svg" alt="img" style="zoom:50%;" />

这意味着，在图像 $t^3$ 上，位于 $t = 2$ 点的切线的斜率正好是$3 \cdot 2^2$，也就是 **12**。

当然，选择 $t = 2$ 并没有什么特别的；更一般地说，我们会说函数 $t^3$ 的导数是一个关于 $t$ 的函数，其表达式为：

​                                                      <font color="brown">$\frac{ds}{dt}(t) = 3t^2$</font>

这真是太美妙了。导数本身是一个相当复杂的概念：我们在研究的是「微小的距离变化」除以「微小的时间变化」，但我们并不是取某个具体的微小时间变化，而是在讨论这个比值趋近于什么。

然而，经过这一切，我们最终却得到了一个如此简洁的表达式：$3t^2$

这正是微积分的魅力所在：用深刻的思想揭示出简洁、优雅的规律。

>  [!NOTE]
>
> 实际上，你不会每次都去做这么多代数运算。知道函数 $t^3$ 的导数是 $3t^2$，就像所有微积分学生都必须掌握的一项基本技能一样，大家都会立刻写出这个结果，而无需每次都重新推导，就像你能快速而本能地写出一个简单的代数规则那样，比如：$x(y + z) = xy + xz$
>
> 在下一章中，我们将探索一些方法，从几何的角度理解这个<font color="blue">**导数公式**</font>以及其他许多导数公式。

###### 回到悖论

就我个人而言，我建议你不要过于认真地看待“瞬时变化率”这个说法，而是将其视为“<font color="brown">对变化率的最佳常数近似</font>”的一种概念性简写。

###### 下一章

 在接下来的章节中，我们将深入探讨如何计算各种函数的导数。
 在这个过程中，我们将看到这样一个基本思想：通过观察输入微小变化所引起的输出微小变化，不仅可以帮助我们理解导数的本质，还能引出许多优美的几何直觉。

#### 第三章 幂函数求导法则的几何理解

> [!TIP]
>
> “你知道，他当数学家时缺少想象力 —— 但现在他改行做诗人，倒也挺合适的。”
>  —— 大卫·希尔伯特

在上一课中我们介绍了导数以及它与变化率之间的关系，接下来的步骤是学习如何计算**用具体公式给出的函数的导数**。

一个典型的微积分学生，通常会花很多时间练习如何计算导数，往往并没有一个具体的“变化率”问题作为背景。例如，一张练习题可能会要求你计算以下函数的导数：

​                                                            $f(x) = \frac{\sin(x)}{x^2}$

但这个函数可能并没有说明它描述了什么物理过程，或者它的变化率有什么意义。这并不一定是坏事，这种方式类似于我们学习乘法表时，通过大量练习诸如 $7 \times 6 = 42$  这样的事实，而不需要每次都将这些等式放在具体的语境中去理解。

尽管如此，在深入学习之前，或许值得先强调一下，<font color="brown">为什么学习这些公式是有意义的</font>，为什么那些要求学生反复练习的题目是值得花时间去做的。

我们用多项式、三角函数、指数函数等等来建模许多现实世界中的现象，尤其是物理中的现象。因此，熟练掌握这些函数的导数计算，就等于掌握了一种语言，让你能够迅速理解这些现象的变化率。

想一想，**熟记乘法表**如何让学生能腾出精力去思考更复杂的算术和代数概念。

所以在本章以及接下来的章节中，我们的目标是向你展示如何以直观和几何的方式理解一些求导规则；我也非常想鼓励你，永远不要忘记导数核心中的那个“微小推动”（tiny nudges）这一思想。

> [!TIP]
>
> 尽管反复练习和记忆这些公式确实有价值，但本系列的目标是让你感觉这些知识点都是你自己能够发现的事实。所以在接下来的几章里，让我们保持耐心和探索的心态。发现这些公式其实是一场美妙的创造力练习，需要你敏锐地察觉一个量的微小变化如何影响另一个量的微小变化。
>
> 即使你不需要每次计算导数时都亲自推导这些过程，经历一遍推导仍然可以加深你对导数核心概念的理解。

#### 单项式

###### **$f(x) = x^2$ 的导数**

要理解导数的精确公式，仅仅看函数图像通常不是最好的方法。为此，最好更直接地看看$x^2$实际意味着什么。在这种情况下，我们可以想象一个<font color="brown">边长为 $x$ 的正方形</font>。

![img](https://www.3blue1brown.com/content/lessons/2017/derivatives-power-rule/figures/2.46.svg)

$\frac{d f}{d x} = \frac{(x + dx)^2 - x^2}{dx} = \frac{2x \cdot dx + (dx)^2}{dx} = 2x + dx$

###### **$f(x) = x^3$ 的导数**

![img](https://www.3blue1brown.com/content/lessons/2017/derivatives-power-rule/figures/5.05-5.10.svg)

###### **$f(x) = x^n$ 的导数**

在实际操作中，每次求导 $x^2$ 时，你不一定都会去想一个正方形；同样，求导 $x^3$ 时，你也不一定非得联想到一个立方体。相反，如果你像一位数学家那样思考，能否将这种方法推广，看看是否能发现某种规律？你能否发明一种工具，用来求任意多项式的导数？

![img](https://www.3blue1brown.com/content/lessons/2017/derivatives-power-rule/figures/7.32.svg)

发现一种被数学界称为<font color="brown">“幂法则”（power rule）</font>的模式。

> 尽管在实际操作中，你通常会快速而符号化地完成这个导数运算。但偶尔回顾一下这个法则为什么成立，还是很有意义的。因为它锻炼了我们以“微小扰动”的方式去思考导数这个核心概念的能力——这是一个非常关键的思维习惯。

###### **$f(x) = \frac{1}{x}$ 的导数**

你也许很快套用“幂法则”得出$f'(x) = -x^{-2}$ 。

但让我们来点有趣的，试试看能不能用几何的方法来推理它，而不是只是套用公式来计算。

边长为$x$和$\frac{1}{x}$的矩形，面积保持为1：

![img](https://www.3blue1brown.com/content/lessons/2017/derivatives-power-rule/figures/11.41.svg)

微小的扰动 $dx$ 改变了矩形的宽度，但面积仍然必须保持为 1，所以增加的面积必须和减少的面积相抵消。这就得到下面的表达式：

​                                              $dx \cdot \frac{1}{x} + x \cdot d\left(\frac{1}{x}\right) = 0$

​                                                 $ x \cdot d(\frac{1}{x})= -dx \cdot \frac{1}{x}$

移项两边同时除以 $x \cdot dx$并简化，得到：

​                                                        $\frac{d(\frac{1}{x})}{dx} = -\frac{1}{x^2}$

我们可以用幂法则来验证我们的结果。表达式 $\frac{1}{x}$ 与 $x^{-1}$ 是相同的。根据幂法则，我们可以把指数 $-1$ 提到前面，然后指数减一，得到的结果和几何方法推导出的答案一致： $\frac{df}{dx} = -1x^{-2}$

###### **$f(x) = \sqrt{x}$ 的导数**

![img](https://www.3blue1brown.com/content/lessons/2017/derivatives-power-rule/figures/12.34-explanation.svg)

$ x + dx = (\sqrt{x} + d\sqrt{x}) (\sqrt{x} + d\sqrt{x}) = x + 2\sqrt{x}d\sqrt{x} + (d\sqrt{x})^2$

由于我们只关心面积的变化，所以可以从等式两边都减去 $x$。此外，我们可以放心地忽略 $(dx)^2$ 这一项，因为它所代表的面积对函数输出（长度）的影响可以忽略不计。

$ \frac{d\sqrt{x}}{dx} = \frac{1}{2\sqrt{x}}$  , 也和幂法则结果一致。



#### 第四章 三角函数求导法则的几何理解

###### $\sin(\theta)$的导数

![img](https://www.3blue1brown.com/content/lessons/2017/derivatives-trig-functions/figures/15.57.svg)

如果放大到足够近的程度，圆在这个局部区域看起来基本就像一条直线。请考虑下方图示中的直角三角形，其中的斜边代表沿圆周方向的一个微小扰动 $d\theta$ 的直线近似，而左侧的那条边表示高度的变化，也就是 $\sin(\theta)$所产生的微小变动。

![img](https://www.3blue1brown.com/content/lessons/2017/derivatives-trig-functions/figures/similar-triangles.svg)

邻边（adjacent）除以斜边（hypotenuse）——这不正好就是 $cos(\theta)$的定义吗！

​                                                               <font color="brown">$\frac{d\sin(\theta)}{d\theta} = \cos(\theta)$</font>

###### $\cos(\theta)$的导数

和上面类似，也在同一个三角形内分析，只是注意符号：

​                                                              <font color="brown">$\frac{d\cos(\theta)}{d\theta} = -\sin(\theta)$</font>

在下一节课中，我们将学习如何求由这些简单函数组合而成的函数的导数，例如它们的**加法**、**乘法**，或是**复合函数**。就像本节课一样，我们会尝试用**几何的方式**来理解每一条法则，使它们在直觉上合理，并且容易记住。

#### 第五章 可视化链式法则与乘积法则

> [!TIP]
>
> “使用链式法则就像剥洋葱：你必须一层一层地处理它，如果层太多，你就会开始流泪。”
>
> ——（匿名教授）

在之前的视频里，我讲过简单函数的导数，比如$x$ 的幂次，正弦函数 $\sin(x)$，还有指数函数。目的是让你在脑海中形成一个清晰的画面或直觉，理解这些公式是从哪里来的。

你用来建模现实世界的大多数函数，实际上都是通过某种方式混合、组合和调整这些简单函数；所以现在我们的目标是理解如何对更复杂的组合求导。在这里，我同样希望你对每条求导法则都能有清晰的画面感。

归根结底，函数的组合主要有三种基本方式：<font color="brown">相加</font>、<font color="brown">相乘</font>，以及把一个函数放进另一个函数里，也就是函数的<font color="brown">复合</font>。

你遇到的大多数函数其实就是在这三种组合方式上不断叠加，没有限制它们能变得多复杂。但只要你知道导数在这三种组合方式中的求法，就可以一步步分层剥开，逐层处理。

那么问题是，如果你知道两个函数的导数，怎么求它们的和、积，以及复合函数的导数呢？

###### 和法则（Sum Rule）

​                                                **<font color="brown">$\frac{d}{x}(g(x) + h(x)) = \frac{dg}{dx} + \frac{dh}{dx}$</font>**

和法则是最简单的导数法则，虽然念出来可能有点绕口：两个函数之和的导数等于它们各自导数的和。

从图形直观就能理解。

###### 乘积法则（Product rule）

 两个函数的乘积情况就有些不同了。其实，在数学的各个层次中，如果你在处理两个量的乘积，把它理解成某种面积的形式往往更有帮助。

举个例子，对于函数 $\sin(x) \cdot x^2$，你可以试着在脑海中想象一个长方形，它的边长分别是 $\sin(x)$ 和$x^2$。

![img](https://www.3blue1brown.com/content/lessons/2017/chain-rule-and-product-rule/figures/product-rule-example-area-df-labeled.svg)

![img](https://www.3blue1brown.com/content/lessons/2017/chain-rule-and-product-rule/figures/product-rule-example-area-small-df.svg)

$df = \sin(x)d(x^2) + x^2d(\sin(x)) = \sin(x)2xdx + x^2\cos(x)dx$

$\frac{df}{dx} = \sin(x)2x + x^2\cos(x)$

这种推理方式适用于任何两个函数，乘积法则：

​                                                <font color="brown">$\frac{d}{x}(g(x)h(x)) = g\frac{dh}{dx} + h\frac{dg}{dx}$</font>

乘积法则有一个常用的记忆口诀，就是在脑海里默念：“左乘右导，右乘左导”。

如果脱离上下文，这条规则可能看起来有些奇怪，但如果你想象前面提到的那个“可调节的矩形”，就能看出这两个部分其实代表了<font color="brown">面积的微小变化</font>。“左乘右导”对应的是矩形底部那一小块面积，而“右乘左导”对应的是矩形右侧那一小块面积。

###### 链式法则（Chain rule）

除了加法和乘法，函数之间另一种非常常见的组合方式就是**函数复合**。

$f(x)=\sin(x^2)$的导数

在这里，我将选择另一种全新的方式来进行可视化，只是为了强调在富有创造力的数学中，我们有很多不同的思考角度。我会画出三条数轴。

![img](https://www.3blue1brown.com/content/lessons/2017/chain-rule-and-product-rule/figures/chain-rule-dx.svg)

$x^2$视为$h$， $dh$就是$d(x^2)$。 $d(sin(h)) = \cos(h)d(h)=\cos(x^2)2xdx$

![img](https://www.3blue1brown.com/content/lessons/2017/chain-rule-and-product-rule/figures/chain-rule-example-dh-expanded.svg)

<font color="brown">$\frac{df}{dx} = \frac{d}{dx}\sin(x^2)=\cos(x^2)2x$</font>

注意我们在这里得到了什么：我们取的是**外层函数的导数**，但它的输入仍然是**未经改变的内层函数**，然后再乘以内层函数的导数。

当然，函数 $\sin(x)$ 和 $x^2$ 并没有什么特别之处。如果你有两个函数 $g(x)$ 和 $h(x)$，那么它们复合函数 $g(h(x))$ 的导数，就是函数 $g$ 在 $h(x)$ 处的导数，乘以函数 $h$ 的导数。这就是我们所说的**“链式法则”**。

换句话说，链式法则的核心在于：

<font color="brown">$\frac{d}{dx}g(h(x)) = g'(h(x)) \cdot h'(x)$</font>

![img](https://www.3blue1brown.com/content/lessons/2017/chain-rule-and-product-rule/figures/chain-rule-general-annotated-alt.svg)

###### 总结

以上就是你应对由多个函数组合而成的函数求导时所需的三种基本工具：**加法法则**、**乘积法则**和**链式法则**。我得说，知道链式法则和乘积法则是什么，和能熟练运用它们去处理各种复杂情况之间，有着很大的差别。

我在这个系列的开头就说过，但现在值得再重复一次：**观看和阅读微积分的推导过程永远不能代替亲自练习**。你需要亲自动手、反复训练，建立起进行这些运算所需的“肌肉记忆”。我真希望我能替你完成这个过程，但恐怕，这一部分只能靠你自己去努力了，我的朋友。

我所能做的，也是我希望我已经做到的，是向你展示这些法则的由来，说明它们并不只是死记硬背、机械套用的工具；而是一些**自然的模式**，你只要耐心思考导数的意义，也完全可以自己发现它们。

#### 第六章 欧拉常数 e 有什么特别之处？

> [!TIP]
>
> “有谁不会惊讶地得知，函数 $y = e^x$ 就像凤凰涅槃般从自身的灰烬中重生，它的导数竟然还是它自己呢？”
>
> —— 弗朗索瓦·勒·利奥奈（Francois le Lionnais）

我已经介绍了一些求导公式，但有一个非常重要的内容我还没讲，那就是<font color="brown">指数函数的导数</font>。在这里，我想谈谈像 $2^x$、$7^x$ 这样的指数函数的导数，并说明为什么<font color="purple"> $e^x$ </font>可以说是最重要的指数函数。

###### 种群规模

我们把输入看作时间$t$（以天为单位），输出 $2^t$ 则代表种群数量，比如某个特别多产的$\pi$ 生物群体的数量，它的数量每天都会翻倍。

<img src="https://www.3blue1brown.com/content/lessons/2017/eulers-number/figures/population-mass/pi-creatures.svg" alt="img" style="zoom:67%;" />

我们很容易知道每天的数量增长，但是每百万分之一天呢？

###### 求导过程

<img src="https://www.3blue1brown.com/content/lessons/2017/eulers-number/figures/finding-the-derivative/base-2-derivative-setup.svg" alt="img" style="zoom:67%;" />

$\frac{2^{t+dt}-2^t}{dt} = \frac{2^t2^{dt}-2^t}{dt}=2^t(\frac{2^{dt}-1}{dt})$

乍一看，这似乎只是一个不重要的变换，但一个非常重要的事实是，括号里的$(\frac{2^{dt}-1}{dt})$这部分，也就是包含 $dt$ 的项，和 $t$ 本身是完全分开的；它并不依赖于我们开始计算时的具体时间点。—— 它是一个常数。

<font color="brown">所以，$2^t$ 的导数就是它本身乘以某个常数。</font>

###### 不同的指数函数

上面的$2^t$ 并没有什么特别之处。 对于任何其他底数的指数函数，你都可以尝试去看看对应的比例常数是多少，甚至试着找出其中的规律。

![img](https://www.3blue1brown.com/content/lessons/2017/eulers-number/figures/finding-the-derivative/example-exponentials.svg)

第二个问题，也是最终解释这些神秘常数的问题是：是否存在某个底数，使得这个比例常数等于 1；也就是说，对于函数$M(t) = a^t$，它的导数不仅与自身成比例，而且**等于自身**。

###### 欧拉常数

事实证明，这样的数字确实存在。它就是特殊常数 <font color="brown">$e$</font>，约等于 2.71828，被称为<font color="brown">欧拉数</font>。实际上，不仅仅是 $e$ 恰好出现在这里，从某种意义上说，这正是定义数字 $e$ 的方式。以欧拉数为底的这个特殊指数函数就被称为**指数函数**。

​                                                               <font color="brown">      $\frac{d}{dt}(e^t)=e^t$</font>

如果你观察 $e^t$ 的图像，会发现一个奇特的性质：图上任意一点切线的斜率，恰好等于该点在横轴上的高度。

<img src="https://www.3blue1brown.com/content/lessons/2017/eulers-number/figures/exponential-function/slope-examples.svg" alt="img" style="zoom:67%;" />

那么，**指数函数**是如何帮助我们求其他指数函数的导数的呢？

假设底为$a$，$a^t$可以重写为$e^{ln(a^t)} = e^{ln(a)t}$，导数可以根据<font color="brown">链式法则</font>求得：

​                                                                      <font color="brown">$\frac{d(a^t)}{dt} = a^tln(a)$</font>

>  [!TIP]
>
> 事实上，在微积分的各种应用中，你很少会看到指数函数写成某个底数的 $t$ 次方的形式。相反，几乎总是将指数函数写成 $e$ 的某个常数乘以 $t$ 的幂。
>  区别在于：用指数函数 <font color="brown"> $e^{ct}$ </font>的方式来表达，在求导过程中会更加顺畅、自然。

###### 我们为什么关心这个？

们之所以在意这些，是因为在各种自然现象中，很多时候一个量的变化率**正比于它自身的大小**。—— 指数函数在生活中常见。

尽管指数函数有很多种不同的写法，但我们更倾向于用<font color="brown">$e^{ct}$ </font>的形式来表示这些函数，因为指数中的那个<font color="brown">常数 $c$**有着非常自然且明确的含义**：它正是“变量的大小”与“变量的变化率”之间的比例常数</font>。

这就是为什么我们关心指数函数，特别是以 $e$ 为底的指数函数——它们不仅数学上简洁优雅，更是自然界中许多规律背后的通用语言。

#### 第七章 隐函数求导，到底是怎么回事？

>  [!TIP]
>
> “在你弄清一句话的含义之前，不要去问它是否为真。”
>  —— 埃雷特·毕晓普（Errett Bishop）

###### **隐式曲线**

假设你有一个以原点为圆心、半径为 5 的圆。这种图形可以用方程：

$x^2 + y^2 = 5^2$

但不同于微积分中其他关于切线斜率的问题，这条曲线**不是**一个函数的图像。我们无法像以前那样，简单地通过“输入一个微小的扰动，观察输出如何变化”来求导数。在这个方程中，
 $x$ 并不是“输入”，
 $y$ 也不是“输出”，
 它们只是通过某个等式相互关联的两个变量。

这类曲线被称为**隐式曲线**（implicit curve）：它就是所有满足某种由 $x$ 和 $y$ 表达的关系的点$(x, y)$的集合。

<img src="https://www.3blue1brown.com/content/lessons/2017/implicit-differentiation/figures/circle-tangent-line-step-detail.svg" alt="img" style="zoom:50%;" />

我在学微积分时觉得特别奇怪的就是：我们是**如何求这类曲线的导数 $\frac{dy}{dx}$** 的。

实际上，你要对方程两边**直接对 $x$** 求导，步骤如下：

我们对两边分别对 $x$ 求导：

- $x^2$ 的导数是$2xdx$
- $y^2$ 的导数是$2y{dy}$，这里要用**链式法则**，因为 $y$ 是 $x$ 的函数
- 常数 $5^2$5 的导数是 0

所以得到：

$2xdx + 2y{dy}=0$

<font color="brown">$\frac{dy}{dx}=-\frac{x}{y}$</font>

你能理解为什么这会让人感觉奇怪吧？我们在对一个含有多个变量的表达式求导时，这到底意味着什么？又为什么我们要在每一项后面加上这些小小的 $dy$、$dx$ 呢？

这和我们以前面对函数的时候很不一样 —— 没有那种清晰的“输入 到 输出”的结构。

但神奇的是：**即使你不去深究为什么这样做，机械地照着操作——对等式两边求导，并使用链式法则**，你最后仍然能整理出一个表达式来表示 $\frac{dy}{dx}$。就像我们之前看到的，对于圆的方程：$\frac{dy}{dx}=-\frac{x}{y}$

所以在坐标为 $(x, y) = (3, 4)$ 的点上，切线的斜率显然就是 $-\frac{3}{4}$。这个看起来有些奇怪的过程被称为**“隐函数求导”**（implicit differentiation）。

别担心，<font color="green">我会解释你该如何理解对一个含有两个变量的表达式进行求导这件事的含义</font>。但在此之前，我想先把这个具体的问题放一边，转而展示它是如何与另一类微积分问题相关联的——那就是所谓的<font color="brown">**相关变化率问题**</font>（related rates problem）。

###### 相关变化率

想象一把长 5 米的梯子靠在墙上。假设梯子正在沿着墙滑落，梯子的顶部以每秒 1 米的速度向下移动。在这一瞬间，梯子底部远离墙面的速度是多少？

![img](https://3b1b-posts.us-east-1.linodeobjects.com/content/lessons/2017/implicit-differentiation/figures/ladder-traditional-derivative.png)

![img](https://www.3blue1brown.com/content/lessons/2017/implicit-differentiation/figures/related-rates-example.svg)

###### 隐函数求导

现在，把这个问题和求圆切线斜率的问题做个比较。在这两种情况下，我们都有方程：

$x^2 + y^2 = 5^2$

而且在两种情况下，我们最终都是对这个表达式的两边求导。但对于梯子问题，这些表达式是时间的函数，因此求导有明确的意义：它表示随着时间的变化，这个表达式变化的速率。

让圆的情况显得奇怪的是，不同于说经过了一个很小的时间段 $dt$，导致 $x$ 和 $y$ 发生变化，圆的导数中那两个微小的变化量 $dx$ 和 $dy$ 是“自由漂浮”的，并<font color="blue">没有绑定到像时间这样的共同变量</font>上。

让我来告诉你怎么理解这个：给这个表达式

$x^2 + y^2$ 起个名字，比如叫做 $S$。
 $S$ 本质上是一个两个变量的函数；它对**平面**上每一个点$(x,y)$ 都对应一个数字。

对于这个圆上的点，这个数字恰好是 25。

<font color="brown">对这个表达式 $S$ 求导</font>的意思是，考虑对这两个变量的微小变化：对 $x$ 的微小变化 $dx$，以及对 $y$ 的微小变化 $dy$ —— 顺便说一句，这些变化不一定要让你仍然停留在这个圆上，它们只是平面上任意方向上的一小步移动。

<img src="https://www.3blue1brown.com/content/lessons/2017/implicit-differentiation/figures/function-of-two-variables-dx-dy-algebra.svg" alt="img" style="zoom:60%;" />



这就是表达式 $2x \cdot dx + 2y \cdot dy$ 的含义。它告诉你，起始点 $(x, y)$ 和你迈出的微小步伐 $(dx, dy)$ 共同决定了 $x^2 + y^2$ 这一数值会发生多少变化。

关键点是，当你限制自己只能沿着这个圆的方向移动时，实际上你是在说你想保持这个值 $S$ 不变；它的起始值是 25，你希望它始终保持为 25，也就是说，变化量 $dS$ 应该是 0。

因此，将表达式  $2x \cdot dx + 2y$  设为 0，就是保证微小移动仍然停留在圆上的条件。

###### 另一个例子

当然，这里表达式 $x^2 + y^2 = 5^2$ 并没有什么特别之处。你也可以有其他涉及 $x$ 和 $y$ 的表达式，代表其他曲线。对两边同时求导，就可以得到一个方法，将 $dx$ 和 $dy$ 联系起来，从而描述沿着该曲线微小移动时这两个变量的变化关系。

比如对<font color="brown">表达式 $\sin(x)y^2 = x$</font>

有：

<font color="brown">$\cos(x)y^2dx + \sin(x)2ydy = dx$</font>

将这两边相等，实际上是在表达这样一个意思：“无论你采取怎样一个<font color="brown">微小的步伐 $(dx, dy)$</font>，如果这个步伐要让我们仍然<font color="brown">停留在这条曲线上</font>，那么等式左右两边的值必须变化相同。”
 这是保证这个原始等式仍然成立的唯一方式。

接下来，根据你要解决的问题的不同，你可以继续代数上的操作，其中最常见的目标可能就是求出 $\frac{dy}{dx}$。

###### 推导 $\ln(x)$ 的导数

再举一个例子，我来展示如何利用这种技巧<font color="brown">（**隐函数求导**）来推导新的导数公式</font>：

$y = ln(x)$

$e^y = x$

$e^ydy = dx$

$\frac{dy}{dx} = \frac{1}{e^{ln(x)}} = \frac{1}{x}$

###### 下一课

顺便说一句，以上讨论其实已经让我们窥见了一点 **多元微积分（Multivariable Calculus）**的样子：
那是一门研究 具有多个输入变量的函数，以及在你轻微调整这些输入时，输出会发生怎样变化的学问。

核心思想依然是：
 始终在脑海中保持一个清晰的画面 —— **究竟是哪些微小的变化在起作用，它们又是如何彼此关联的**。

接下来，我将讲讲：**“极限”到底是什么，它又是如何被用来形式化导数的概念的。**

#### 第八章 极限与导数的定义

> [!TIP]
>
> “微积分的核心就是让弯曲的东西看起来像直的。” —— 匿名教授

过去几节课我们一直在讲**导数**的概念，而在进入积分之前，我想花点时间来讲一讲“极限”。

说实话，**极限的概念并不是什么全新的东西**。如果你知道“接近”这个词的意思，那你其实已经差不多理解了极限的本质。可以说，剩下的只是用一些“花哨的符号”来表示这样一个直观的想法：**一个值不断逼近另一个值**。
不过，深入研究这个主题仍然有几个很好的理由。

其中一个值得讲清楚的点是：**我之前讲导数的方式，其实和大多数课程和教材中“导数的形式定义”是一致的**。我想让你有点信心地知道，那些我们用来构建直觉的术语，比如
 `dx` 和 `df` 这样的具体非零“微小变化”，并不只是某种直觉的把戏；**它们其实是有数学上严谨定义支持的**，正是来自于“导数的极限定义”。

###### 导数的形式定义

<img src="https://www.3blue1brown.com/content/lessons/2017/limits/figures/derivative-dx-smaller-nudge.svg" alt="img" style="zoom:50%;" />

<img src="https://www.3blue1brown.com/content/lessons/2017/limits/figures/derivative-definition-limit-dx.svg" alt="img" style="zoom:50%;" />

<img src="https://www.3blue1brown.com/content/lessons/2017/limits/figures/derivative-definition-limit-d-meaning.svg" alt="img" style="zoom:50%;" />

​                                                    <font color="brown">$\frac{df}{dx}(x) = \lim_{h \to 0}\frac{f(x+h)-f(x)}{h} $</font>

从某种意义上说，左边的这个表达式 “$\frac{df}{dx}$” —— 也就是我们在前面课程中一直思考的比值 —— 实际上只是右边更详细表达的一个简写。右边明确写出了我们所说的 $df$ 是什么，同时也把这个极限过程具体展开了。

而这个右边的表达式，就是**导数的正式定义**，也是你在任何微积分教材中通常会看到的那种形式。

###### 关于没有“无限小”的唠叨

现在，请允许我稍微唠叨几句，我想强调的是，导数正式定义右边的极限表达式，并没有涉及那个悖论式的“无限小”变化的概念。<font color="brown">极限的意义就在于避免使用“无限小”这种模糊不清的概念</font>。

这里的 $h$ 就是我在之前课程中提到的 “$dx$” —— 它是对函数输入的一个非零、有限小的微小“轻推”，比如 $0.001$，而我们分析的是当 $h$ 取任意非常小的数时的情况。事实上，人们引入新的变量 $h$ 来表达这个极限定义，而不是直接用 $dx$，就是为了明确告诉大家，这些输入的变化是普通的数值，和“无限小量”没有任何关系。

与其像某些人那样把 $dx$ 理解为“无限小的变化”，我认为你完全可以且应该把 $dx$ 理解为一个具体的、有限的小变化，只要你记得问当它<font color="brown">不断趋近于 0</font> 时会发生什么。这样的方法有助于建立更扎实的直觉，帮助你理解微积分的规则是从哪里来的。更重要的是，这不仅仅是为了方便理解而用的“技巧”。我之前所有关于导数用“具体有限小变化”的说法，都是对导数形式定义的另一种表达。

简单来说，**极限**的重要之处就在于：**它让我们避免去谈论“无限小的变化”，而是转而问“当变量的变化越来越接近 0 时，发生了什么”。**

###### 为什么我们在意

也许你已经觉得，从直觉上讲，到目前为止我们发明的语言和工具已经足够用来解决这类问题了。当我们考虑对函数输入做微小的“轻推”，只要想象这个轻推不断接近零，通常问题就能迎刃而解。同样地，我们可以放大曲线上某一点，确信只要放大足够多，曲线在那一点附近就会越来越像一条直线。

但是，你可能仍然有疑问，就像早期一些微积分的创始人一样。比如说，我们到底要放大到多近，函数才会开始看起来像它在该点的切线？

如果你在实际应用微积分，你可能主要关心的是近似的准确度，你会不断调整选择一个足够小的$dx$，以保证近似结果足够准确，能计算出有用的答案。而数学家玩的则是另一种“猫捉老鼠”的游戏：他们关心是否能设计出一种策略，使得选择越来越小的$dx$，能够获得越来越精确的结果，从而保证他们<font color="brown">“总能赢”</font>。

更进一步，<font color="brown">数学家们关注的是确保他们所有的结论都具有精准且严密的定义</font>，而不是依赖视觉上的直觉。虽然说这个比值趋近于某个值，看着图像中通过该点的直线斜率越来越接近切线斜率似乎合情合理，但追求严谨的人们坚持要更扎实的定义。在下一章，我们将介绍极限的$\epsilon - \delta$ 定义，最终为“趋近”这一概念打下坚实的基础。



#### $第九章 (\epsilon, \delta)$ “epsilon delta” 极限定义

> [!TIP]
>
> “微积分要求连续性，而连续性又被认为需要‘无限小’；但没人能发现无限小究竟是什么。”
>  —— 伯特兰·罗素

###### 例子

在上一节课中，我介绍了极限以及它们如何用来形式化导数的定义。本节课的目标是深入理解“一个值趋近于另一个值”到底是什么意思。比如，考虑以下函数：

$f(h) = \frac{(2+h)^3 - 2^3}{h}$

这正好是你在展开 $x^3$ 在 $x = 2$ 处的导数的形式定义时会得到的表达式：

$\frac{d(x^3)}{dx}(2) = \lim_{h \to 0}\frac{(2+h)^3 - 2^3}{h}$

但实际上，如果你思考当 $h = 0$ 时会发生什么，把它代入表达式你会得到 $\frac{0}{0}$，这是未定义的。因此，严格来说，这个图像在那个点上是有一个“空洞”的。

<img src="https://www.3blue1brown.com/content/lessons/2017/epsilon-delta/figures/example-limit-hole.svg" alt="img" style="zoom:67%;" />

想象你是一位正在发明微积分的数学家，这时有人怀疑地问你：“你所谓的‘趋近’到底是什么意思？”这问题听起来确实有点烦人。毕竟，大家都知道一个值越来越接近另一个值是什么意思，对吧？

但我们可以开始思考，如何用完全<font color="brown">**无歧义**</font>的方式来回答这个问题：

$\lim_{h \to 0}\frac{(2+h)^3 - 2^3}{h} = \lim_{h \to 0}\frac{2^3+3⋅2^2⋅h+3⋅2⋅h^2+h^3−2^3}{h} = \lim_{h \to 0}12+6h+h^2$

这种方法为“趋近于某个值”赋予了明确、严格的数学意义。

<img src="https://www.3blue1brown.com/content/lessons/2017/epsilon-delta/figures/example-limit-input-ranges.svg" alt="img" style="zoom:67%;" />

> **对于任意一个 ε（epsilon），无论它有多小，你总是能够找到一个对应的 δ（delta）**。

这就是极限存在的正式意义 ——
 **任意 ε > 0，都存在一个 δ > 0，使得只要 0 < |x - a| < δ，就有 |f(x) - L| < ε。**

###### 反例

<img src="https://www.3blue1brown.com/content/lessons/2017/epsilon-delta/figures/epsilon-delta-limit-not-defined.svg" alt="img" style="zoom:67%;" />

这个函数在 $x = 0$ 处同样**未定义**，但它在该点附近的行为却**发生了跳跃（jump discontinuity）**。

这种从“缩小极限点附近的输入区间”来观察输出区间是否也随之缩小的视角，正是通往 **“ε-δ（epsilon-delta）极限定义”** 的途径。

> 相比之下，当**极限不存在**时，你可以找到一个足够小的 ε（比如 0.4），使得**无论你将输入值围绕 0 的范围（即 δ）缩小到多小**，**对应的输出值范围始终过大**，无法全部落在 ε 的限制范围内。

###### 总结

在本节课中，我们建立了极限的 **ε-δ（epsilon-delta）定义**，以形式化地表达“一个值趋近于另一个值”到底是什么意思。

这个定义为我们之后的讨论——尤其是涉及到导数这样的工具——提供了**坚实且严密的逻辑基础**。它帮助我们把直觉变成可以被数学证明的语言，让我们的论证更加严谨。

在下一课中，我们将介绍一个**计算极限的巧妙技巧**，它在实际应用中非常实用。敬请期待！

#### 第十章 洛必达法则

到目前为止，过去的两节课偏重理论：我们首先介绍了**如何用极限来正式定义导数**，接着又通过 **ε（epsilon）**和 **δ（delta）**将极限的定义变得严谨而精确。

所以，在这一课中，我们将**结束对极限的探讨**，介绍一个用于<font color="green">**实际计算极限的技巧**</font>。

例如，假设你正在研究这样一个函数：

​                                                              $f(x) = \frac{\sin(\pi x)}{x^2 - 1}$

也许这个函数可以用来模拟某种阻尼振荡。当它在 $ x = 1$ 的地方却存在一个**问题点**。

<img src="https://www.3blue1brown.com/content/lessons/2017/l-hopitals-rule/figures/example-function.svg" alt="img" style="zoom:50%;" />

但有没有一种方法可以**准确地**知道这个值到底是多少？有没有一种**系统性的步骤**，可以处理像这样的表达式——在某个输入值处看起来是 $\frac{0}{0}$ 这样的形式——并计算当 $x$ 趋近于这个输入值时，它的极限到底是多少？

在极限帮助我们定义导数之后，**导数也可以反过来帮忙**，用来求一些极限。

###### 绘制分子和分母的图像

<img src="https://www.3blue1brown.com/content/lessons/2017/l-hopitals-rule/figures/example-function-numerator-and-denominator.svg" alt="img" style="zoom:50%;" />

> 我估计直观上看，就是分子分母是否异号，以及离开零值的速度（导数）。

<img src="https://www.3blue1brown.com/content/lessons/2017/l-hopitals-rule/figures/example-function-numerator-and-denominator-zoom.svg" alt="img" style="zoom:50%;" />

**sin(πx)** 的值被某个 **d(sin(πx))** 的量轻微降低，而 **x² − 1** 的值被某个 **d(x² − 1)** 的量轻微增加。

花点时间思考一下这个分数 **d(sin(πx)) / d(x² − 1)** 是如何重新构造这个最初看起来像是 **0 除以 0** 的问题的。

> [!NOTE]
>
> 首先，这个分数其实就是在求原函数在 **f(1 + dx)** 处的值。
>
> 其次，通过观察这两个切线的比值——即分子和分母的线性逼近，它们在 **dx** 趋近于 **0** 时的近似越来越准确——我们就能够推断出这个极限所趋近的确切数值。

根据链式法则：

$\frac{d(\sin(\pi x))}{d(x^2-1)} = \frac{\cos(\pi x)\pi dx}{2xdx}=\frac{\cos(\pi x)\pi}{2x}$

###### 推广一下

刚才发生的事情有点微妙，所以我想再展示一次，不过这次更一般化一些。
考虑任意两个函数 $f(x)$ 和 $g(x)$，它们在某个共同的值 $x = a$ 处都等于 $0$。

$\lim_{x \to a}\frac{f(x)}{g(x)}=\frac{f(a)}{g(a)}=\frac{0}{0}$

唯一的限制是，这些函数必须是在 $x = a$ 处<font color="brown">可以求导</font>的函数，也就是说，当你足够放大靠近这个点时，它们基本上看起来像一条直线。

即使你无法直接计算 $\frac{f}{g}$ 在这个麻烦点的值，因为它们在该点都等于零，你仍然可以考察距离 $a$ 一个很小的偏移量 $dx$的偏移点。

在这个偏移点处，函数 $f$ 的值大致等于它在 $a$ 点的导数 $\frac{df}{dx}$ 乘以这个小偏移量 $dx$。函数 $g$ 同理。

<font color="brown">$\therefore \lim_{x \to a}\frac{f(x)}{g(x)}=\frac{\frac{df}{dx}(a)dx}{\frac{dg}{dx}(a)dx} = \frac{\frac{df}{dx}(a)}{\frac{dg}{dx}(a)}$</font>

由于分子分母都有 $dx$，它们会相互抵消，因此 $f$ 和 $g$ 在 $a$ 附近的比值，大致等于它们<font color="brown">导数的比值</font>。

这确实是一个非常实用的技巧，用来计算很多极限问题。

> [!TIP]
>
> 这个巧妙的技巧被称为“洛必达法则”。有趣的是，它实际上是由约翰·伯努利（Johann Bernoulli）发现的，但洛必达（L'Hôpital）是个有钱人，他基本上是**付钱给伯努利，买下了他某些数学发现的使用权**。当时的学术界确实有些古怪——但从字面意义上来说，理解这些微小的变化（tiny nudges）真的能带来回报。

现在，你也许还记得，对于任意函数，导数的定义本质上就是计算一个看起来像 $\frac{0}{0}$ 的极限。所以你可能会觉得洛必达法则是一个很方便的工具，用来推导新的导数公式。但那样做其实是**作弊**，因为此时你很可能**还不知道分子函数的导数是什么**。

在推导导数公式时——也就是我们在这个系列中经常做的事情——**并不存在一种系统的“代入计算”方法**。但这其实是件好事。当你需要动用创造力去解决这样的问题时，说明你正在做一些真正有意义的事、真正的数学；**这可能会带来一个强大的工具，用于解决未来更多的问题**。

在下一课中，我将谈谈**积分**是什么，以及**微积分基本定理**。这是另一个例子，展示了极限如何帮助我们为一个充满“无限”意味的精妙概念，赋予清晰的数学含义。

#### 第十一章 积分与微积分基本定理

>  [!TIP]
>
> “一个人永远不应该试图去证明那些并非几乎显而易见的东西。”
>
> —— 亚历山大·格罗滕迪克

这个人，格罗滕迪克，对我来说算是某种意义上的数学偶像。我真的很喜欢他说的这句话，你不觉得吗？在数学中，我们太常一头扎进冗长的公式推导里，急着去证明某个事实成立，却很少先退一步，确保这件事在直觉上是合理的，最好是几乎显而易见的。

在这篇文章里，我想聊聊积分。而我想让你觉得“几乎显而易见”的一件事是：**积分其实是导数的逆运算**。我们只专注于一个例子，它在某种程度上与我在第二章中介绍导数时提到的“汽车运动”的例子相对照。然后在下一课中，我们会看到这个想法如何推广到其他的情境中去。

###### 速度

想象你正坐在一辆车里，看不到窗外的景象；你唯一能看到的是车速表。在某个时刻，汽车开始移动，加速，然后又减速，最终在 8 秒内停下来。

有没有一种简洁的方法，仅通过观察车速表，来判断这段时间内你行驶了多远？或者更进一步，找到一个距离函数 $s(t)$，它能告诉你在任意时刻 $t$（从第 0 秒到第 8 秒）时你已经行驶了多远。

假设你记录下了每一秒的速度，并把速度随时间变化的图像画了出来，也许你会发现，用下面这个函数来描述你随时间变化的速度（单位：米每秒）非常合适：

$v(t) = t(8 - t)$

<img src="https://www.3blue1brown.com/content/lessons/2017/integration/figures/velocity-nice-function.svg" alt="img" style="zoom:50%;" />

###### **速度与距离的关系**

你可能还记得，在本系列的第 2 章中，我们讨论的是相反的情况：已知一个距离函数 $s(t)$，然后想要推导出对应的速度函数。我当时展示了一个关键思想：**距离随时间的函数的导数，就是速度随时间的函数**。

所以，在我们当前的情境中，我们只知道速度函数，那么要找出距离与时间的关系函数 $s(t)$，本质上就是在问：**哪个函数的导数是 $-t^2 + 8t$？

这通常被称为：**求一个函数的反导数（antiderivative）**。

我想用这篇文章的大部分内容来展示：**这个问题其实与求速度图像下所围成的面积密切相关**。 理解这一点，有助于我们建立对数学和科学中一大类所谓“积分问题”的直觉。

<img src="https://www.3blue1brown.com/content/lessons/2017/integration/figures/velocity.svg" alt="img" style="zoom:50%;" />

<img src="https://www.3blue1brown.com/content/lessons/2017/integration/figures/velocity-approximate-interval-example-result.svg" alt="img" style="zoom:50%;" />

我们希望把汽车的运动近似为**在某一小段时间内速度保持不变**的情形。这样做的原因是：**除了恒定速度的情况，我们其实还不太知道怎么处理其他的情况**。

**不管你用什么方式来近似，只要当时间间隔 $dt$ 越来越小，你的近似就越来越准确。**

这个距离可以直观地表示为一个窄矩形的面积。虽然这个值稍微低于真实的行驶距离，但误差不大。

对每一个时间段来说，情况都是一样的：**近似的行驶距离是 $v(t) \cdot dt$**，只是每段时间你要根据不同的 $t$ 代入速度函数，得到不同高度的矩形。

###### 积分符号

接下来，我将用一种看起来有点奇怪的方式，来写出所有这些小矩形面积的总和。

我们用这个符号：**$\int $**（一个拉长的“S”，代表“求和”），表示我们要把许多小面积加在一起。然后，在这个符号的底部写上 **0**，顶部写上 **8**，表示我们正在对时间区间从 **0 秒到 8 秒** 进行求和。

$\int_0^8v(t)dt$

我们在每一个时间小段中累加的量是：$v(t) \cdot dt$，在图像上，这对应于每一个小矩形的面积，也就是速度乘以时间的那一小块面积。

> [!NOTE]
>
> 我们之所以**不用常规的求和符号 $\sum$** 来表示这个加法，是因为这个表达式**并不代表某个具体的、固定时间间隔 dt 的求和**。
>
> 它真正的含义是：**表达当 dt 趋近于 0 时，这个求和过程所逼近的极限值**。

记住，选择更小的 $dt$ 表示对我们原始问题——汽车到底行驶了多远——的更精确近似。因此，这个求和的极限值，也就是曲线下的面积，给出了这个问题的<font color="brown">准确答案</font>，且没有任何近似误差。

我们有这样一个看似复杂的想法：通过不断地将大量非常微小的部分相加来进行近似，然而这些近似值所趋近的结果却可以用一个非常简单的形式来描述——那就是曲线下的面积。

<font color="brown">$\int_0^8v(t)dt$</font>

<font color="brown">这个表达式被称为函数 $v(t)$ 的**“积分”**</font>，因为它将函数在整个区间内的所有值“汇聚”在一起，对它们进行了累积，也就是“积分”。

###### **图像下的面积**

你可能会说：“这有什么用呢！？你不过是把一个难题——计算汽车行驶了多远——换成了另一个同样难的问题——计算这条曲线与横轴之间的面积？”……你说得没错！如果我们只关心速度和距离这对问题，那么这段关于曲线下面积的讲解确实有些浪费时间，我们完全可以直接跳到求反导数的部分。

但事实上，**计算函数图像与横轴之间的面积，是许多看似不同的问题共有的一种“通用语言”**。这些问题都可以拆解并近似为大量微小部分的累加。你将在下一课中看到更多例子，但目前我只能抽象地说：**理解如何解释和计算图像下面积，是一种非常通用的解决问题的工具。**

实际上，本系列的第一期视频已经介绍了这一思想的基础内容，但现在我们对导数有了更深入的理解，就可以真正将这个想法完整地展开。

###### 面积函数的导数就是原函数

以我们的速度例子为例，把右端点看作一个变量，记作大写字母 $T$。

$s(T) = \int_{0}^{T}v(t)dt$

面积表示汽车经过 $T$ 秒后行驶的距离，对吧？所以这实际上就是一个距离随时间变化的函数 $s(T)$。

<img src="https://www.3blue1brown.com/content/lessons/2017/integration/figures/derivative-of-area-function-is-the-function.svg" alt="img" style="zoom:50%;" />

当输入变量 $T$ 微微增加一个很小的量 $dT$ 时，面积也会相应增加一点儿，记作 $ds$，这部分面积就像一块很薄的“切片”。这块切片的高度就是图像在该点的高度，也就是速度函数的值 $v(T)$，宽度则是 $dT$。对于足够小的 $dT$，我们可以把这块切片近似看成一个矩形。

所以，这块切片的面积 $ds$ 约等于 $v(T) \cdot dT$

因为当 $dT$ 越来越小时，这个近似会越来越准确，面积函数的导数 $\frac{ds}{dT}$ 在这一点的值就等于速度函数在该时刻的值 $v(T)$，也就是说，面积函数的导数等于速度函数。

这其实是一个非常普遍的结论：**任何给出图像下方面积的函数，它的导数都等于那个图像对应的函数本身。**

<img src="https://www.3blue1brown.com/content/lessons/2017/integration/figures/derivative-of-area-function-generic-case.svg" alt="img" style="zoom:50%;" />

###### 寻找反导数

这儿我们就得真正撸起袖子，开始做一些数学计算了（根据第三～六章的知识）。

###### **关于 +C 的问题**

不过这里有一个小问题：我们可以在这个函数上**加上任意一个常数**，它的导数仍然是：

$8t - t^2$

因为**常数项的导数永远是 0**。
 如果我们把 $s(t)$ 图像画出来，也可以这样理解：**把一个距离函数的图像整体上下平移，并不会改变它在每个点的斜率（也就是速度）**。

所以，实际上存在**无穷多个不同的反导函数**，它们的形式都是：

$4t^2 - \frac{1}{3}t^3 + C$，其中 $C$ 是任意常数。

更常见的情况会像是计算区间 $t = 1$ 到 $t = 7$ 之间的积分。
 这就是图中所表示的面积，它代表的是**从第 1 秒到第 7 秒之间的行驶距离**。

<img src="https://www.3blue1brown.com/content/lessons/2017/integration/figures/plus-constant-issue-area-between-1-and-7.svg" alt="img" style="zoom:50%;" />

###### **基本定理**

更一般地说，每当你想对某个函数进行积分时——也就是说，你可以把积分理解为：
在某个区间内把形如 $f(x) \cdot dx$ 的小量相加，然后研究当 $dx \to 0$ 时这个和趋近于什么——

那么计算这个积分的**第一步**就是<font color="brown">找到一个**原函数（反导函数）**</font>，即另一个函数 $F(x)$，它的导数等于积分号里的那个函数 $f(x)$。

然后，这个定积分的值就等于这个原函数在上限处的值减去它在下限处的值：

$\int_a^b f(x)dx = F(b) - F(a)$

这个结论就被称为**微积分基本定理（Fundamental Theorem of Calculus）**。

**在你用反导函数来实际计算这个积分时，只需要看两个点：上限和下限**！

这几乎让人觉得像是在“作弊”一样！通过找到反导函数，你就**隐式地包含了在整个区间内对所有值求和所需的全部信息**。

###### **负面积**

在结束之前，有一个很重要的概念值得提一下，那就是**负面积**。

如果我们的速度函数在某些时刻是负的——也就是说，**汽车正在倒退**——那会怎么样呢？

此时仍然成立的是：在一个很小的时间间隔内，微小的位移 $ds$ 大约等于速度乘以微小的时间变化 $dt$。只是这里你代入的速度值是负数，所以这个小距离变化也是负的。

从图像上来说，如果我们画出的那条细长矩形位于**横轴以下**，那么它的面积就表示汽车**向后行驶的一小段距离**。因此，如果你想求的是**汽车从起点到终点之间的净距离**，那就应该把这部分负面积减去。

这其实是积分的一个普遍性质：
 **当函数图像低于横轴时，下面的面积会被当作负值计算**。
 你会经常听到这样说法：**积分表示的是函数图像与横轴之间的“有符号面积”（signed area）**。

**下一个视频**

接下来，我会介绍更多与积分及“曲线下的面积”这一概念相关的情境，并进一步讲解一些关于**微积分基本定理**的直观理解。

#### 第十二章 面积跟斜率有什么关系？

>  [!TIP]
>
> 我们常听说数学主要是“证明定理”。
>  那是不是可以说，作家的工作主要是“写句子”呢？
>
> —— 贾恩-卡洛·罗塔（Gian-Carlo Rota）

这里，我想讨论一种常见的问题类型，它涉及到积分：**求一个连续变量的平均值**。

<img src="https://www.3blue1brown.com/content/lessons/2017/area-and-slope/figures/introduction-average-value-of-function.svg" alt="img" style="zoom:50%;" />

这本身就是一个非常实用的知识，但更妙的是，它为为什么**积分和导数互为反运算**提供了一个完全不同的视角。

###### 正弦函数的平均值

这的确是个有点奇怪的概念，不是吗？**连续变量的平均值**。

通常说到“平均值”，我们想到的是一组**有限个数值**：把它们加起来，再除以数值的个数。

但在 $0$ 到 $\pi$ 之间，像 $\sin(x)$ 这样的函数有**无穷多个值**，我们又不可能真的把这些值全部加起来然后除以“无穷”。

几乎每次当你有这种想法时，关键就在于**某种形式的积分**。

<img src="https://www.3blue1brown.com/content/lessons/2017/area-and-slope/figures/average-height-of-sine-from-0-to-pi-rearrange-dx.svg" alt="img" style="zoom:50%;" />

<img src="https://www.3blue1brown.com/content/lessons/2017/area-and-slope/figures/average-height-of-sine-from-0-to-pi-average-height-area-divided-by-width.svg" alt="img" style="zoom:50%;" />

###### 另一种视角

我在一开始就承诺过：**寻找函数平均值的问题**，提供了一个**关于为什么积分和导数互为反运算**的不同视角 —— 为什么一个图像下的面积与另一个图像的斜率有关。

注意，我们刚才求得的这个平均值 $\frac{2}{\pi}$，其实是通过考察反导函数 $-\cos(x)$ 在输入区间上的变化量，再除以这个区间的长度得到的。

<img src="https://www.3blue1brown.com/content/lessons/2017/area-and-slope/figures/another-perspective.svg" alt="img" style="zoom:50%;" />

换一种角度来看，这个分数可以理解为：
反导函数图像上从 $x=0$ 到 $x=\pi$ 之间的“**升高量除以水平变化量**”，也就是**两点之间的平均斜率**。

从这个角度看，是否就更容易理解了 ——

<font color="brown">**一个图像在某区间内所有点的平均斜率，等于它在区间两端点之间的总斜率**</font>？这看起来确实非常合理。

而总斜率

###### 推广观点

为了更好地理解这个想法，我们可以看看它在更一般的函数上的表现。

对于任意函数 $f(x)$，如果你想要找出它在某个区间（比如从 $a$ 到 $b$）上的**平均值**，你需要做的是：将函数 $f(x)$ 在该区间上的**积分结果除以区间宽度**。

你可以把这看作是**将图像下的（带符号）面积除以区间的宽度**。

<img src="https://www.3blue1brown.com/content/lessons/2017/area-and-slope/figures/generalize-signed-area.svg" alt="img" style="zoom:50%;" />

$\frac{\int_a^bf(x)dx}{b - a} = \frac{F(b) - F(a)}{b - a}$

- 视角一：面积 / 宽度 
- 视角二：平均斜率（两端点间的总斜率）

那么，为什么反导函数是求解积分的关键呢？我最喜欢的直观理解还是上节课讲的那个，但另一种视角是：当你将“求连续变量的平均值”这个问题重新框定为“求一堆切线的平均斜率”，你就能通过比较端点来直接看到答案，而不必实际计算中间所有点的值。

###### 总结

在上一节视频中，我描述了一种应该让你联想到积分的感觉。也就是说，如果你觉得自己正在解决的问题可以通过某种方式拆分成许多小部分，再把它们加起来来近似求解，那么积分就会派上用场。

这里，我希望你能带走第二种让你联想到积分的感觉：如果你对某个有限情境下的概念很理解，这个概念涉及将多个数值相加，比如求一组数的平均值，而你想将这个概念推广到无限连续的数值范围，试着看看能否用积分来表达。

这种感觉出现得足够频繁，值得我们牢记。

### 第十三章 高阶导数

###### 引言

在下一章关于泰勒级数的内容中，我会频繁提到高阶导数。如果你已经熟悉二阶导数、三阶导数等，那太好了！你可以直接跳到那一课。

到目前为止，这个系列我竟然一直没有提及高阶导数。为了完整起见，我想借此小注脚简单介绍一下它们。我会主要讲二阶导数，展示它在图形和运动中的表现，至于更高阶导数的类比，就留给你去思考了。

###### 图形意义

略

###### 符号表示

在符号表示方面，你可以尝试这样写：

$\frac{d\left(\frac{df}{dx}\right)}{dx}$

这表示对导数函数的一个微小变化除以 $x$ 的一个微小变化，其中像往常一样，字母 $d$ 表示你真正想要考虑的是当两个 $dx$ 都趋近于 0 时，这个比值的极限。这种写法比较笨拙冗长，所以标准写法是简写为：

<font color="brown">$\frac{d^2 f}{dx^2}$</font>

虽然这对理解二阶导数的直觉并不是特别重要，但也许值得展示一下如何解读这个符号。想象从函数的某个输入点开始，向右移动两个小步，每步大小为 $dx$。这里我选择了比较大的步长，方便更清楚地观察过程，但原则上应当把它们看作非常微小的步长。

<img src="https://www.3blue1brown.com/content/lessons/2017/higher-order-derivatives/figures/second-derivative-intuition-df2-df1-difference.svg" alt="img" style="zoom:50%;" />

<img src="https://www.3blue1brown.com/content/lessons/2017/higher-order-derivatives/figures/notation-general-case.svg" alt="img" style="zoom:50%;" />

###### 物理意义

对二阶导数最直观的理解可能就是它表示加速度。

$\frac{d^2s}{dt^2}(t) ⟺加速度$

> 第三阶导数，这可不是开玩笑，叫做“冲击度”（jerk）。所以如果冲击度不为零，意味着加速度的强度本身正在变化。它在很多领域都有重要用途和意义。
>
> 冲击度主要反映受力变化的快慢，间接影响乘坐舒适度、机械磨损和结构安全等方面。控制冲击度可以让运动更平滑，减少设备损伤，提高人体或机械系统的稳定性和耐用性。

**下一课**

高阶导数最有用的一点之一，是它们在**函数近似**中的作用，这正是下一章 **泰勒级数（Taylor 级数）** 要讲的主题。所以，我们下一课见。

### 第十四章 泰勒级数

>   [!TIP]
>
> “对很多人来说，数学是一组定理。对我来说，数学是一组例子；定理是关于这些例子的陈述，而证明定理的目的，是为了对这些例子进行分类和解释。”—— 约翰·B·康威（John B. Conway）

###### 引言

当我第一次学习泰勒级数时，我并没有真正意识到它有多重要。但一次又一次地，它在数学、物理以及许多工程领域中出现，因为它是数学中最强大的函数近似工具之一。

<img src="https://www.3blue1brown.com/content/lessons/2017/taylor-series/figures/cosine-and-second-order-approximation.svg" alt="img" style="zoom:50%;" />

对泰勒级数的研究，主要就是将非多项式函数转化为在某个输入点附近可以近似它们的<font color="green">多项式函数</font>。这样做的动机是：多项式函数通常比其他类型的函数<font color="green">更容易处理</font>。它们更容易计算、更容易求导、更容易积分……总之，在各方面都更“友好”。

###### 近似 $\cos(x)$

我们来看看函数 $\cos(x)$，思考一下如何在$x = 0$ 附近找到一个二次近似函数。也就是说，在所有形如 $c_0 + c_1 x + c_2 x^2$ 的多项式中，找到一个在 $x = 0$ 附近最接近 $\cos(x)$ 的。

$\cos(x) = c_0 + c_1 x + c_2 x^2$

方法：$x = 0$ 处，

- 数值相同：$\cos(0) = c_0 + c_1 0 + c_2 0^2 \quad \Rightarrow \quad c_0 = 0$

- 切线斜率相同：

​		$\frac{d}{dx}\cos(x) = \frac{d}{dx}(c_0 + c_1x + c_2x^2)$

​		$-\sin(x) = c_1 + 2c_2x$

​		$-sin(0) = c_1 + 2c_20 \quad \Rightarrow \quad c_1 = 0$

- 二阶导数相同：

​		$\frac{d^2}{dx^2}\cos(x) = \frac{d^2}{dx^2}(c_0 + c_1x + c_2x^2)$

​		$-cos(x) = 2c_2$

​		$-cos(0) = 2c_2 \quad \Rightarrow \quad c_2 = -\frac{1}{2}$

最终得到 $\cos(x) \approx 1 - \frac{1}{2}x^2$

这真的很不错！

花点时间思考一下刚才发生了什么：你在构造一个二次近似时有三个自由度，也就是表达式中的三个系数：

$c_0 + c_1 x + c_2 x^2$

- $c_0$ 负责确保近似函数在 $x = 0$ 处的输出与 $\cos(x)$ 一致；
- $c_1$ 负责确保在这一点处，两者的导数（斜率）相同；
- $c_2$ 则是为了让两者的二阶导数（即曲率）一致。

这确保了，在你能够控制的范围内，你的近似函数在从 $x = 0$ 开始变化时，无论是值、变化率，还是变化率的变化方式，都会尽可能地模仿 $cos(x)$ 的行为。

###### **更好的近似**

你可以通过在多项式中加入更多项，来获得更高的控制能力，从而匹配 $\cos(x)$ 的更高阶导数。
例如，假设我们添加一项 $c_3 x^3$，其中 $c_3$ 是某个常数：

$\cos(x) \approx 1 - \frac{1}{2}x^2 + c_3x^3$

三阶导：$sin(x) = 6c_3$ 

$sin(0) = 6c_3 \quad \Rightarrow \quad c_3 = 0$

换句话说，$1 - \frac{1}{2}x^2$不仅是 $\cos(x)$ 在 $x = 0$ 附近最好的二次近似，它同时也是最好的三次近似。

你实际上可以通过添加一个四阶项 $c_4 x^4$ 来改进这个近似。

不断应用幂法则（power rule），指数依次乘到前面，你会得到：

$\frac{d^4}{dx^4}(c_4 x^4) = 1 \cdot 2 \cdot 3 \cdot 4 \cdot c_4 = 24c_4$

所以，为了使多项式的四阶导数在 $x = 0$ 处与 $\cos(x)$ 的四阶导数相等，我们只需令：

$\frac{d^4}{dx^4}\cos(x) = cos(x)$

$24c_4 = 1 \quad \Rightarrow \quad c_4 = \frac{1}{24}$

多项式$ 1 - \frac{1}{2}x^2 + \frac{1}{24}x^4$ 在 $x = 0$ 附近是对 $\cos(x)$ 的一个非常精确的近似。

对于任何涉及小角度余弦的物理问题来说，比如使用这个多项式代替 $\cos(x)$来进行计算，预测结果几乎不会有明显差别。

###### 推广

首先，<font color="brown">阶乘项（factorial）在这个过程中自然而然地出现</font>。当你对 $x^n$ 连续求 $n$ 次导数时，幂次每次都会按照<font color="brown">幂函数求导</font>规则往下递减，最终你会得到：

$1 \cdot 2 \cdot 3 \cdots n = n!$

也就是说，阶乘 $n!$ 是从 $x^n$ 一次次导数中“坍缩”出来的常数因子。这种阶乘结构在泰勒级数的构造中非常关键。

$\frac{d^8}{dx^8}(c_8x^8) = 8! \cdot c_8$

###### 在其他点附近进行近似

如果你是要在某个输入值不是 0 的点附近进行近似，比如 $x = \pi$，为了达到同样的效果，你需要把你的多项式写成关于 $(x - \pi)$ 的幂的形式。更一般地说，是写成关于某个常数 $a$ 的 $(x - a)$ 的幂次形式。

<img src="https://www.3blue1brown.com/content/lessons/2017/taylor-series/figures/cosine-approximation-at-pi-general.svg" alt="img" style="zoom:50%;" />

这看起来确实更复杂了一些，但这么做是为了确保在代入 $x = \pi$ 时能带来大量的巧妙抵消效果，从而使得每一个高阶导数的值都只由唯一的一个系数来控制。

<img src="https://www.3blue1brown.com/content/lessons/2017/taylor-series/figures/cosine-approximation-at-pi-math-2.svg" alt="img" style="zoom:50%;" />

<img src="https://www.3blue1brown.com/content/lessons/2017/taylor-series/figures/cosine-approximation-at-pi-2.svg" alt="img" style="zoom:50%;" />

这就是泰勒级数的核心要点：<font color="brown">一个函数在某个点的微分信息，可以帮助我们了解它在这一点附近**的一些行为特征**</font>。

<img src="https://www.3blue1brown.com/content/lessons/2017/taylor-series/figures/cosine-approximation-cyclic-pattern.svg" alt="img" style="zoom:50%;" />



按照这种方式在任意阶段停止所得到的多项式，就被称为 **$\cos(x)$** 的“泰勒多项式”。

###### 其他函数

更一般地说，如果我们处理的不是余弦函数，而是其他某个函数，你就需要计算它的一阶导数、二阶导数，依此类推，根据你想要的项数来进行计算，并将每一阶导数都在 $x = a$ 处进行取值。

$P(x) = f(a) + \frac{f'(a)}{1!}(x - a) + \frac{f''(a)}{2!}(x - a)^2 + \frac{f^{(3)}(a)}{3!}(x - a)^3 + \cdots$

或更一般地写法：

<font color="brown">$P(x) = \sum_{n=0}^{\infty} \frac{f^{(n)}(a)}{n!}(x - a)^n$</font>

这就是泰勒级数最一般形式的样子。改变 $a$ 的取值，就改变了近似函数贴合原函数的位置。

###### 一个有意义的例子

一个最简单但有意义的例子是：近似函数 $f(x) = e^x$在输入 $x = 0$ 附近的值。

这个函数的导数非常好处理，因为 $e^x$ 的导数仍然是 $e^x$，所以它的二阶导数也是 $e^x$，三阶导数也是如此，依此类推。

$e^x \approx 1 + \frac{x^1}{1!} + \frac{x^2}{2!} + \frac{x^3}{3!} + \cdots$

###### 无限与收敛

我们本可以在这里结束，这样你就拥有了一个非常有用的工具——用这些 Taylor 多项式进行近似。但如果你像数学家那样思考，你可能会问一个问题：是否有意义永不停下，去累加无限多项的和？

在数学中，无限求和叫做“级数”，所以尽管有限项的近似叫做函数的“<font color="blue">Taylor 多项式</font>”，将所有无限多项相加则称为“<font color="blue">Taylor 级数</font>”。

<img src="https://www.3blue1brown.com/content/lessons/2017/taylor-series/figures/infinity-and-convergence-taylor-series-vs-polynomial.svg" alt="img" style="zoom:50%;" />

随着你添加越来越多的多项式项，总和会越来越接近数值 $e$。更准确但较啰嗦的说法是“右边级数的部分和收敛到 $e$”。更简洁的说法，大多数人会直接说“这个级数等于 $e$”。

事实上，如果你代入任何其他的 $x$ 值，比如 $x=2$，并观察该点处越来越高阶的泰勒多项式的值，它们也会收敛到 $e^x$，在这个例子中就是 $e^2$。

<img src="https://www.3blue1brown.com/content/lessons/2017/taylor-series/figures/infinity-and-convergence-exp-of-2.svg" alt="img" style="zoom:50%;" />

这对于任何输入都成立，无论它距离 $0$ 有多远，尽管这些泰勒多项式仅仅是从输入点 $0$ 处的导数信息构造出来的。在这种情况下，我们说 $e^x$ 在所有输入 $x$ 处都等于它的泰勒级数。这是一个颇具魔力的事实！它意味着函数的全部信息某种程度上都被单一点（即 $x=0$）处的高阶导数所捕捉。

###### 不收敛的例子$\:\ln(x)$

但有时候这些级数只能在以你使用的导数信息所在的输入点为中心的一定范围内收敛。如果你围绕输入点 $x = 1$ 展开 $\ln(x)$ 的泰勒级数，也就是利用在 $x = 1$ 处计算的 $\ln(x)$ 的高阶导数来构建，这个级数看起来就是这样的。

<img src="https://www.3blue1brown.com/content/lessons/2017/taylor-series/figures/natural-logarithm-taylor-series.svg" alt="img" style="zoom:50%;" />

当你输入的值在0和2之间时，随着你不断加入更多项，这个级数确实会越来越接近该输入值的自然对数。但是，稍微超出这个范围，级数就无法收敛了。随着项数的增加，部分和会在数值间剧烈震荡，无法趋近于该值的自然对数，尽管对于 $x > 2$ 来说，$\ln(x)$ 本身是完全有定义的。

<img src="https://www.3blue1brown.com/content/lessons/2017/taylor-series/figures/natural-logarithm-erratic-behavior.svg" alt="img" style="zoom:50%;" />

在某种意义上，$\ln(x)$ 在 $x=1$ 处的导数信息并不能传播得很远。在这种情况下，随着加入更多项，级数的部分和并不趋近于任何值，我们称这样的级数为<font color="brown">发散</font>的。

你所近似的输入点与那些多项式输出确实收敛的点之间的最大距离，称为该泰勒级数的“收敛半径”。

<img src="https://www.3blue1brown.com/content/lessons/2017/taylor-series/figures/natural-logarithm-radius-of-convergence.svg" alt="img" style="zoom:50%;" />

###### 总结

关于泰勒级数，还有许多内容值得学习，包括它们的多种应用场景、估计近似误差的各种方法，以及判断级数收敛或发散的测试方法。更广泛地说，微积分本身还有许多知识点未被涉及，这只是冰山一角。

制作这些视频的目标是帮助你建立起基础的直观理解，让你在自主学习时更有信心和效率，甚至可能激发你自己重新发现更多相关知识。对于泰勒级数来说，探索时要牢记的核心直觉是：它们将某一点的导数信息转化为该点附近的函数近似信息。

### 第十五章 泰勒级数（几何视角）

我们换一种完全不同的方式来理解泰勒展开中的**二阶项**，即 $\frac{1}{2}f''(a)(x - a)^2$，这种方式与**微积分基本定理**有关（在第1章和第8章中提到过）。

---

🌟 几何的出发点

设有一个函数图像，我们不直接研究这个函数本身，而是定义一个“面积函数”：

$$
F(x) = \int_a^x f(t)\, dt
$$

这个函数 $F(x)$ 表示从某个固定点 $ a $ 到变量右端 $ x $ 之间图像下方的面积。

---

🧩 几何视角下的泰勒展开（到二阶）

我们可以用图形的方式近似面积函数 \( F(x) \)：

$$
F(x) \approx F(a) + F'(a)(x - a) + \frac{1}{2}F''(a)(x - a)^2
$$

这就是泰勒多项式到二阶的形式：

- $ F(a) $：原有面积
- $ F'(a)(x - a) $：新增的矩形面积
- $ \frac{1}{2}F''(a)(x - a)^2 $：新增的三角形面积（由弯曲带来的变化，正切值为$F''(a)$。 三角形高$F''(a)(x - a)$，底$(x-a)$）

---

✅ 总结

- 从面积的角度来看，每一项都有清晰的**几何意义**。
- 一阶项：代表线性增加的面积 —— 矩形
- 二阶项：代表由于斜率变化而产生的非线性面积 —— 三角形
- 这个几何解释帮助我们**更直观理解泰勒展开的结构**。

### 第十六章 另一种可视化导数的方法

<img src="https://3b1b-posts.us-east-1.linodeobjects.com/content/lessons/2018/derivatives-and-transforms/partial_2.png" alt="img" style="zoom:50%;" />

###### 引言

几乎所有一年级微积分的视觉直觉都是基于图形的。导数是图形的斜率，积分是图形下的面积，等等。

<img src="https://3b1b-posts.us-east-1.linodeobjects.com/content/lessons/2018/derivatives-and-transforms/intro_1.png" alt="img" style="zoom:50%;" />

但当你将微积分推广到输入和输出不仅仅是数字的函数时，你就不总是能够画出你正在分析的函数的图像。

<img src="https://3b1b-posts.us-east-1.linodeobjects.com/content/lessons/2018/derivatives-and-transforms/intro_2.png" alt="img" style="zoom:50%;" />

如果你对诸如导数这类基本概念的直觉过于死板地依赖于图像，那么在你与更“高级”的主题之间，比如多变量微积分、复分析、微分几何等，就会横亘着一道既高又本不必要的概念障碍。

我想与你分享一种看待导数的思维方式，我称之为“变换视角”（transformational view）。这种视角在微积分出现的一些更广泛的语境中能够更自然地推广。然后，我们将用它来分析一个有趣的关于连分数的谜题。

###### 变换视角

首先，让我们确认一下大家对标准图像的理解是一致的（on the same page）。如果你绘制一个输入和输出都是实数的函数图像，那么在微积分课程中你最先学到的事情之一就是：导数给出了这个图像在某点的斜率。

<img src="https://3b1b-posts.us-east-1.linodeobjects.com/content/lessons/2018/derivatives-and-transforms/transform_1.png" alt="img" style="zoom:50%;" />

现在，我鼓励你不要把“导数是斜率”这个观念当作导数的定义；更好的方式是，把导数理解为：<font color="brown">函数在某个输入点附近对微小扰动的敏感程度</font>。图像的斜率只是理解这种敏感性的一个方式，而且只适用于这种特定的函数可视化方式。

另一种导数可视化方式背后的基本思路是：将函数看作是把<font color="brown">数轴上的所有可能输入，映射到另一条数轴上的对应输出</font>。

<img src="https://3b1b-posts.us-east-1.linodeobjects.com/content/lessons/2018/derivatives-and-transforms/transform_2.png" alt="img" style="zoom:50%;" />

在这种情况下，导数衡量的是输入空间在不同区域被拉伸或压缩的程度。也就是说，如果你放大观察某个特定输入点周围，并查看该点附近一些等间距的点，函数在该点的导数就会告诉你，这些点在经过函数映射后是变得更加分散，还是更加紧密。

$dy = f'(x) \cdot dx$

###### 这种导数视角的一个应用：连分数

这听起来都很好，但让我们看看它在解决一个问题时有什么用处。

我有个朋友最近问了我一个挺有趣的问题，关于这个无限连分数：

$1 + \cfrac{1}{1 + \cfrac{1}{1 + \cfrac{1}{1 + \cfrac{1}{\ddots}}}}$

相当于反复应用 $f(x) = 1 + \frac{1}{x}$

<img src="https://3b1b-posts.us-east-1.linodeobjects.com/content/lessons/2018/derivatives-and-transforms/inf_12.png" alt="img" style="zoom:50%;" />

现在，我们知道$1.618$ （黄金比例）和它的小兄弟$−0.618$（黄金比例）在这个过程的每次迭代中保持在原地不动。

<img src="https://3b1b-posts.us-east-1.linodeobjects.com/content/lessons/2018/derivatives-and-transforms/inf_14.png" alt="img" style="zoom:50%;" />
