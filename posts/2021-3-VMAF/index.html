<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Traditional Methods</title>

        <link rel="stylesheet" href="../../fonts/Serif/cmun-serif.css" />
        <link rel="stylesheet" href="../../fonts/Serif-Slanted/cmun-serif-slanted.css" />

        <!--BOOTSTRAP-->
        <link href="../../bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <!--mobile first-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!--removed html from url but still is html-->
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

        <!--font awesome-->
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">

        <!--fonts: allan & cardo-->
        <link href="http://fonts.googleapis.com/css?family=Droid+Serif" rel="stylesheet" type="text/css">
        <link href="http://fonts.googleapis.com/css?family=Droid+Sans" rel="stylesheet" type="text/css">

        <link href="../../css/sticky-footer-navbar.css" rel="stylesheet">

        <link href="../../css/default.css" rel="stylesheet">

        <link href="../../comments/inlineDisqussions.css" rel="stylesheet">

        <!--Highlight-->
        <link href="../../highlight/styles/github.css" rel="stylesheet">

        <link href="../../favicon.ico" rel="shortcut icon" />
        <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css">

        <!--<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>-->
        <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <style>
        .post{width:170px;min-height:175px;padding-left:5px;padding-right:5px;float:left;border-left:1px solid #CCC;background-color:white;}
        div a:first-of-type .post { border-left: none; }
        .post:hover {filter: brightness(90%);}
        .post h3{margin:5px;font-size:75%;text-align:center}
        .post h4{margin:0px;font-size:50%;text-align:center}
        .post img{margin:0px;padding:2px;margin-bottom:10px;width:100%;height:155px}
        </style>

        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-49811703-1', 'dwHou.github.io');
          ga('require', 'linkid', 'linkid.js');
          ga('require', 'displayfeatures');
          ga('send', 'pageview');

        </script>

    </head>

    <body>
        <div id="wrap">
            <nav class="navbar navbar-inverse navbar-static-top" role="navigation">
                <div class="container">
                    <!--Toggle header for mobile-->
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand active" href="../../" style="font-size:20px;">De's blog</a>
                    </div>
                    <!--normal header-->
                    <div class="navbar-collapse collapse">
                        <ul class="nav navbar-nav navbar-right">
                            <li><a href="../../"><span class="glyphicon glyphicon-pencil"></span>  Blog</a></li>
                            <li><a href="../../about.html"><span class="glyphicon glyphicon-user"></span>  About</a></li>
                            <li><a href="../../contact.html"><span class="glyphicon glyphicon-envelope"></span>  Contact</a></li>
                            <li><a href="../../demo.html"><span class="glyphicon glyphicon-play"></span>  ALGO</a></li>
                        </ul>
                    </div><!--/.nav-collapse -->
                </div>
            </nav>


            <div id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-md-8">
                            <h1></h1>
                            <div style="font-size: 170%;">VMAF</div>
                            <br>
                            <div class="info">
    <p style="font-family:CMSS; font-size:120%">Posted on Jun.3, 2021</p>

    <!--
        by dwHou
    -->
</div>
</br>

<style>
    ul li {
      margin-top: 12px;
    }

    .tight-list li {
      margin-top: 6px;
    }
  </style>
VMAF: The Journey Continues <br>

  <h2>背景</h2>
  <ul>
  <li><b></b></li>
  <pre>
在评价静态图像主观质量失真方面，SSIM比PSNR有一些优势，在视频方面优势不明显。而VMAF是一种将人类视觉模型与机器学习相结合的视频质量评价指标。
目前能够达到商用级的评价指标非常少，学术界的评价指标主要都是针对有非常明确边界条件约束的场景。而Netflix提出的VMAF作为商用级的评价指标，值得我们关注。</pre>

<b><font color="red">VMAF</font>: <font color="red">V</font>ideo <font color="red">M</font>ultimethod <font color="red">A</font>ssessment <font color="red">F</font>usion</b>
  <pre>
<b>VMAF: 未毕之旅</b>
与南加大(USC)合作启动 ◎ 2014年 首度在Netflix上线使用 ◎ 2015年 与南特大学(U.Nantes)，德州大学奥斯汀分校(UT Austin)合作
◎ 2016年 在Github开源，并发布技术博客 ◎ 2017年 版本发布增加移动端画质模型(同样码率，移动端得分会更高)，
libvmaf发布；被FFmpeg支持 ◎ 2018年 速度优化，增加4K画质模型，增加置信区间，准备HDR模型</pre>
  </ul>

   
  <h2>原理</h2>
  <ul>
  <li><b>How VMAF Works</b>  </li>
  <a href="https://github.com/Netflix/vmaf/blob/master/resource/doc/references.md"><i class="fa fa-file-pdf-o"></i></a>
  <img src="VMAF_framework.png">
  <pre><b>Visual Information Fidelity</b> : Sheikh H R, Bovik A C. A visual information fidelity approach to video quality assessment[C]
<b>Detail Loss Measure</b> : Li S, et al. Image quality assessment by separately evaluating detail losses and additive impairments[J].
<b>Temporal Information</b> : average pixel difference between adj, frames</pre>

  </ul>

  <h2>亮点</h2>
  <ul>
  <li><b>置信区间</b> 自助法(Bootstrapping)</li>
  <pre>
<h6>出发点，</h6>
1. 因为MOS没反映评分的置信度，比如说没有统计评分的方差。2. 机器学习的训练集并没有包罗万象。
<h6>自助法，</h6>
Bootstrapping - "Resampling with Replacement"
学习多个模型，然后统计他们的评分方差。得分的散点图就类似股票K线图的点，有一个区间。
  </pre>

  </ul>

  <h2>改进</h2>
  <ul>
  VMAF具有一些性质，所以值得我们去研究、改进它。
  <li>Evolvability</li>
  <pre>可以轻松地加入新的指标，来提升评价准确性。</pre>
  <li>Limited applicability</li>
  <pre>泛化能力没完全保证，但Netflix也在不断增加数据多样性(分辨率、观看环境)</pre>
  <li>Customizability</li>
  <pre>可以定制化，剪裁掉不需要的指标/训练数据</pre>

  </ul>

  <h2>问题</h2>
  <ul>
  <li><b>Hacking VMAF</b> 来自<a href=" https://docs.google.com/document/d/1dJczEhXO0MZjBSNyKmd3ARiCTdFVMNPBykH4_HMPoyY/edit# ">VMAF讨论组</a> </li>
  <pre>
我概括一下这篇文档里面描述的我们近期的一些工作。VMAF的特性决定了其能够预测一些图像增强处理对主观质量的提升。
这是VMAF与PSNR和SSIM等传统工具的一大区别。但当过度使用一些图像增强效果的时候（比如过度锐化），主观质量反而会降低，
但VMAF的值会继续提高，也就是说在过度增强的情况下，VMAF并不能真实反映主观图像质量。我们近期的工作主要是在VMAF的两个
主要feature也就是VIF和DLM里，引入了两个参数，来限制图像增强能够对VMAF产生影响的上限。具体来讲，引入的参数是vif_enhn_gain_limit和adm_enhn_gain_limit。
当它们的值设置为很大的时候（比如都为100)，则对VMAF的值没有影响。而当它们的值都为1的话，则能最大限制图像增强对VMAF的值的提升。
而当设置一些适当值（比如稍大于1）的话，则可以一定程度地引入图像增强的提升但又不会过度。具体什么为适当值的问题，我们留到后续版本的VMAF模型里来解决。</pre>

  <li><b>可解释性</b></li>
  <pre>
VMAF通过融合多个基本的指标，使用非线性回归(如SVM)，来预测视频质量。
但如果有能力<font colo="red">解释</font>各个基本的指标对最终得分的贡献，对我们设计算法会很有帮助。
○ 就类似一个线性回归会比较nice，"权重"能表示重要性。</pre>

  <pre>LIME - Local Interpretable Model-Agnositc Explanation</pre>
  <img src="LIME.png">
  <pre>
概括：
○ 在本地实例上，"线性化"一个非线性分类器<b>C</b>/回归器<b>R</b>。
○ "线性"分类器<b>C</b>/回归器<b>R</b>的系数可以视为各特征的权重。</pre>
  </ul>


  <h2>用途</h2>
  <ul>
  <li><b>VMAF @ Netflix</b></li>
  <pre>在网飞，VMAF被用来 ①比较编解码器 ②编码优化 </pre>
  <li></li>

  </ul>

  <h2>代码</h2>
  <ul>
  <li><b>基础使用</b></li>
  <pre></pre>
  <li><b>分数换算</b></li>
  <pre>Absolute Category Rating (ACR) Scale
——— <20 ——— Bad = 20 ——— Poor = 40 ——— Fair = 60 ——— Good = 80 ——— Excellent = 100
且观看条件为optimal viewing模型，例如：一个1080p，在显示器高度的3倍距离观看时，VMAF得分70的视频可以被解释为平均投票介于"good"和"fair"</pre>
  <li><b>平均VMAF/b></li>
  <pre>算术平均 & 调和平均， 前者更忠实整体视频主观感受，后者能反映出个别帧的bad cases.</pre>
  <li></li>

  </ul>

  <h2>小知识</h2>
  <pre>最佳测试条件 Optimal viewing 是根据人眼敏感频率(cycles/degree, <i>i.e. </i>2 pixels/degree)设计出来的。
这里的默认模型就是在"60 pixels/degree"收集的。所以如果要在比如540p的视频上解释VMAF，就需要在6.4H距离:
60 * (arctan(1/6.4 * 2)) * 2 * 180 / π) = 536.1
  </pre>




  



<!-- 加载出评论，是使用Disqus的论坛短名（shortname）
A shortname is the unique identifier assigned to a Disqus site. 

https://segmentfault.com/a/1190000005773009
https://help.disqus.com/en/articles/1717111-what-s-a-shortname
https://blog.csdn.net/weixin_34327761/article/details/89630337
   -->

<div id="disqus_thread"></div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>

<script src="../../comments/inlineDisqussions.js"></script>
<script src="../../js/disqus.js"></script>

                        </div>
                        <div class="col-md-4"></div>
                    </div>
                </div>
            </div>


            <div id="footer">
                <div class="container">
                    Built by <a href="https://github.com/oinkina">Oinkina</a> with
                    <a href="http://jaspervdj.be/hakyll">Hakyll</a>
                    using <a href="http://getbootstrap.com/">Bootstrap</a>,
                    <a href="http://www.mathjax.org/">MathJax</a>,
                    <a href="http://disqus.com/">Disqus</a>,
                    <a href="https://github.com/unconed/MathBox.js">MathBox.js</a>,
                    <a href="http://highlightjs.org/">Highlight.js</a>,
                    and <a href="http://ignorethecode.net/blog/2010/04/20/footnotes/">Footnotes.js</a>.
                </div>
            </div>
        </div>

    <!-- jQuery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>

    <script src="../../bootstrap/js/bootstrap.min.js"></script>

    <script src="../../highlight/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <script src="../../js/footnotes.js"></script>

    <script src="../../comments/inlineDisqussions.js"></script>

    <noscript>Enable JavaScript for footnotes, Disqus comments, and other cool stuff.</noscript>

    </body>

</html>
